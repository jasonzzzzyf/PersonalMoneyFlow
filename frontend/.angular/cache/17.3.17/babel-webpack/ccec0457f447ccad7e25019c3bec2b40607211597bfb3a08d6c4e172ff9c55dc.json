{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport { environment } from '../../../environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nfunction TransactionsComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const day_r1 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(day_r1);\n  }\n}\nfunction TransactionsComponent_div_30_div_3_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const dayData_r2 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.formatShortAmount(dayData_r2.totalIncome), \" \");\n  }\n}\nfunction TransactionsComponent_div_30_div_3_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const dayData_r2 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.formatShortAmount(dayData_r2.totalExpense), \" \");\n  }\n}\nfunction TransactionsComponent_div_30_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtemplate(1, TransactionsComponent_div_30_div_3_div_1_Template, 2, 1, \"div\", 22)(2, TransactionsComponent_div_30_div_3_div_2_Template, 2, 1, \"div\", 23);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const dayData_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", dayData_r2.totalIncome > 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", dayData_r2.totalExpense > 0);\n  }\n}\nfunction TransactionsComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"div\", 19);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, TransactionsComponent_div_30_div_3_Template, 3, 2, \"div\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const dayData_r2 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"today\", ctx_r2.isToday(dayData_r2.date))(\"other-month\", ctx_r2.isOtherMonth(dayData_r2.date))(\"has-transactions\", dayData_r2.transactions.length > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(dayData_r2.date.getDate());\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", dayData_r2.transactions.length > 0);\n  }\n}\nexport class TransactionsComponent {\n  constructor(http) {\n    this.http = http;\n    this.currentDate = new Date();\n    this.currentMonth = new Date();\n    this.calendarDays = [];\n    this.totalBalance = 0;\n    this.totalIncome = 0;\n    this.totalExpense = 0;\n    this.weekDays = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];\n  }\n  ngOnInit() {\n    this.loadTransactions();\n  }\n  loadTransactions() {\n    const token = localStorage.getItem('token');\n    const headers = new HttpHeaders().set('Authorization', `Bearer ${token}`);\n    this.http.get(`${environment.apiUrl}/transactions`, {\n      headers\n    }).subscribe({\n      next: transactions => {\n        this.calculateTotals(transactions);\n        this.generateCalendar(transactions);\n      },\n      error: err => {\n        console.error('Error loading transactions:', err);\n        this.calculateTotals([]);\n        this.generateCalendar([]);\n      }\n    });\n  }\n  calculateTotals(transactions) {\n    this.totalIncome = 0;\n    this.totalExpense = 0;\n    transactions.forEach(t => {\n      if (t.transactionType === 'INCOME') {\n        this.totalIncome += t.amount;\n      } else {\n        this.totalExpense += t.amount;\n      }\n    });\n    this.totalBalance = this.totalIncome - this.totalExpense;\n  }\n  generateCalendar(transactions) {\n    const year = this.currentMonth.getFullYear();\n    const month = this.currentMonth.getMonth();\n    const firstDay = new Date(year, month, 1);\n    const lastDay = new Date(year, month + 1, 0);\n    let startDayOfWeek = firstDay.getDay();\n    startDayOfWeek = startDayOfWeek === 0 ? 6 : startDayOfWeek - 1;\n    this.calendarDays = [];\n    const prevMonthLastDay = new Date(year, month, 0).getDate();\n    for (let i = startDayOfWeek - 1; i >= 0; i--) {\n      const date = new Date(year, month - 1, prevMonthLastDay - i);\n      this.calendarDays.push(this.createDayData(date, transactions));\n    }\n    for (let day = 1; day <= lastDay.getDate(); day++) {\n      const date = new Date(year, month, day);\n      this.calendarDays.push(this.createDayData(date, transactions));\n    }\n    const remainingDays = 42 - this.calendarDays.length;\n    for (let day = 1; day <= remainingDays; day++) {\n      const date = new Date(year, month + 1, day);\n      this.calendarDays.push(this.createDayData(date, transactions));\n    }\n  }\n  createDayData(date, transactions) {\n    const dayTransactions = transactions.filter(t => {\n      const tDate = new Date(t.transactionDate);\n      return tDate.toDateString() === date.toDateString();\n    });\n    let totalIncome = 0;\n    let totalExpense = 0;\n    dayTransactions.forEach(t => {\n      if (t.transactionType === 'INCOME') {\n        totalIncome += t.amount;\n      } else {\n        totalExpense += t.amount;\n      }\n    });\n    return {\n      date,\n      transactions: dayTransactions,\n      totalIncome,\n      totalExpense\n    };\n  }\n  previousMonth() {\n    this.currentMonth = new Date(this.currentMonth.getFullYear(), this.currentMonth.getMonth() - 1, 1);\n    this.loadTransactions();\n  }\n  nextMonth() {\n    this.currentMonth = new Date(this.currentMonth.getFullYear(), this.currentMonth.getMonth() + 1, 1);\n    this.loadTransactions();\n  }\n  goToToday() {\n    this.currentMonth = new Date();\n    this.loadTransactions();\n  }\n  getMonthYear() {\n    return this.currentMonth.toLocaleDateString('en-US', {\n      month: 'long',\n      year: 'numeric'\n    });\n  }\n  isToday(date) {\n    const today = new Date();\n    return date.toDateString() === today.toDateString();\n  }\n  isOtherMonth(date) {\n    return date.getMonth() !== this.currentMonth.getMonth();\n  }\n  formatAmount(amount) {\n    return `$${amount.toLocaleString('en-US', {\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2\n    })}`;\n  }\n  formatShortAmount(amount) {\n    if (amount >= 1000000) {\n      return `$${(amount / 1000000).toFixed(1)}M`;\n    }\n    if (amount >= 1000) {\n      return `$${(amount / 1000).toFixed(1)}K`;\n    }\n    return `$${amount.toFixed(0)}`;\n  }\n  static {\n    this.ɵfac = function TransactionsComponent_Factory(t) {\n      return new (t || TransactionsComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: TransactionsComponent,\n      selectors: [[\"app-transactions\"]],\n      decls: 31,\n      vars: 6,\n      consts: [[1, \"transactions-container\"], [1, \"balance-banner\"], [1, \"balance-amount\"], [1, \"summary-cards\"], [1, \"summary-card\", \"income-card\"], [1, \"card-label\"], [1, \"card-amount\"], [1, \"summary-card\", \"expense-card\"], [1, \"calendar-nav\"], [1, \"nav-btn\", 3, \"click\"], [1, \"month-title\"], [1, \"today-btn\", 3, \"click\"], [1, \"calendar\"], [1, \"calendar-header\"], [\"class\", \"day-header\", 4, \"ngFor\", \"ngForOf\"], [1, \"calendar-grid\"], [\"class\", \"calendar-day\", 3, \"today\", \"other-month\", \"has-transactions\", 4, \"ngFor\", \"ngForOf\"], [1, \"day-header\"], [1, \"calendar-day\"], [1, \"day-number\"], [\"class\", \"day-transactions\", 4, \"ngIf\"], [1, \"day-transactions\"], [\"class\", \"transaction-amount income\", 4, \"ngIf\"], [\"class\", \"transaction-amount expense\", 4, \"ngIf\"], [1, \"transaction-amount\", \"income\"], [1, \"transaction-amount\", \"expense\"]],\n      template: function TransactionsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n          i0.ɵɵtext(3);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(4, \"div\", 3)(5, \"div\", 4)(6, \"div\", 5);\n          i0.ɵɵtext(7, \"Income\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"div\", 6);\n          i0.ɵɵtext(9);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(10, \"div\", 7)(11, \"div\", 5);\n          i0.ɵɵtext(12, \"Expense\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"div\", 6);\n          i0.ɵɵtext(14);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(15, \"div\", 8)(16, \"button\", 9);\n          i0.ɵɵlistener(\"click\", function TransactionsComponent_Template_button_click_16_listener() {\n            return ctx.previousMonth();\n          });\n          i0.ɵɵelementStart(17, \"span\");\n          i0.ɵɵtext(18, \"\\u2190\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(19, \"h2\", 10);\n          i0.ɵɵtext(20);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"button\", 9);\n          i0.ɵɵlistener(\"click\", function TransactionsComponent_Template_button_click_21_listener() {\n            return ctx.nextMonth();\n          });\n          i0.ɵɵelementStart(22, \"span\");\n          i0.ɵɵtext(23, \"\\u2192\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(24, \"button\", 11);\n          i0.ɵɵlistener(\"click\", function TransactionsComponent_Template_button_click_24_listener() {\n            return ctx.goToToday();\n          });\n          i0.ɵɵtext(25, \"Today\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(26, \"div\", 12)(27, \"div\", 13);\n          i0.ɵɵtemplate(28, TransactionsComponent_div_28_Template, 2, 1, \"div\", 14);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(29, \"div\", 15);\n          i0.ɵɵtemplate(30, TransactionsComponent_div_30_Template, 4, 8, \"div\", 16);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(ctx.formatAmount(ctx.totalBalance));\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate(ctx.formatAmount(ctx.totalIncome));\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate(ctx.formatAmount(ctx.totalExpense));\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate(ctx.getMonthYear());\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"ngForOf\", ctx.weekDays);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngForOf\", ctx.calendarDays);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf],\n      styles: [\".transactions-container[_ngcontent-%COMP%] {\\n  padding: 0;\\n  background: #f5f5f5;\\n  min-height: 100vh;\\n  padding-bottom: 80px;\\n}\\n\\n.balance-banner[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, #F5D547 0%, #F5C518 100%);\\n  padding: 30px 20px;\\n  text-align: center;\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\\n}\\n\\n.balance-amount[_ngcontent-%COMP%] {\\n  font-size: 42px;\\n  font-weight: 700;\\n  color: #2d5016;\\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\\n}\\n\\n.summary-cards[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: 1fr 1fr;\\n  gap: 15px;\\n  padding: 20px;\\n  background: #F5D547;\\n}\\n\\n.summary-card[_ngcontent-%COMP%] {\\n  background: #fdfdf8;\\n  border-radius: 12px;\\n  padding: 20px;\\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);\\n}\\n\\n.card-label[_ngcontent-%COMP%] {\\n  font-size: 14px;\\n  color: #666;\\n  margin-bottom: 8px;\\n}\\n\\n.card-amount[_ngcontent-%COMP%] {\\n  font-size: 24px;\\n  font-weight: 600;\\n}\\n\\n.income-card[_ngcontent-%COMP%]   .card-amount[_ngcontent-%COMP%] {\\n  color: #22c55e;\\n}\\n\\n.expense-card[_ngcontent-%COMP%]   .card-amount[_ngcontent-%COMP%] {\\n  color: #ef4444;\\n}\\n\\n.calendar-nav[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  padding: 20px;\\n  background: white;\\n  border-bottom: 1px solid #e5e5e5;\\n}\\n\\n.nav-btn[_ngcontent-%COMP%] {\\n  background: none;\\n  border: none;\\n  font-size: 24px;\\n  color: #333;\\n  cursor: pointer;\\n  padding: 5px 15px;\\n  transition: all 0.2s;\\n}\\n.nav-btn[_ngcontent-%COMP%]:hover {\\n  background: #f5f5f5;\\n  border-radius: 8px;\\n}\\n\\n.month-title[_ngcontent-%COMP%] {\\n  font-size: 20px;\\n  font-weight: 600;\\n  color: #333;\\n  margin: 0;\\n}\\n\\n.today-btn[_ngcontent-%COMP%] {\\n  background: #F5D547;\\n  border: none;\\n  padding: 8px 20px;\\n  border-radius: 20px;\\n  font-weight: 600;\\n  cursor: pointer;\\n  transition: all 0.2s;\\n}\\n.today-btn[_ngcontent-%COMP%]:hover {\\n  background: #F5C518;\\n  transform: translateY(-1px);\\n  box-shadow: 0 2px 8px rgba(245, 213, 71, 0.3);\\n}\\n\\n.calendar[_ngcontent-%COMP%] {\\n  background: white;\\n  padding: 0 10px 20px;\\n}\\n\\n.calendar-header[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(7, 1fr);\\n  gap: 5px;\\n  padding: 15px 0;\\n  border-bottom: 2px solid #f0f0f0;\\n}\\n\\n.day-header[_ngcontent-%COMP%] {\\n  text-align: center;\\n  font-weight: 600;\\n  color: #666;\\n  font-size: 14px;\\n}\\n\\n.calendar-grid[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(7, 1fr);\\n  gap: 8px;\\n  padding-top: 10px;\\n}\\n\\n.calendar-day[_ngcontent-%COMP%] {\\n  aspect-ratio: 1;\\n  border: 2px solid #f0f0f0;\\n  border-radius: 12px;\\n  padding: 8px;\\n  position: relative;\\n  background: white;\\n  transition: all 0.2s;\\n  cursor: pointer;\\n}\\n.calendar-day[_ngcontent-%COMP%]:hover {\\n  border-color: #F5D547;\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\\n  transform: translateY(-2px);\\n}\\n.calendar-day.today[_ngcontent-%COMP%] {\\n  border-color: #F5D547;\\n  border-width: 3px;\\n  background: #fffef5;\\n}\\n.calendar-day.other-month[_ngcontent-%COMP%] {\\n  opacity: 0.3;\\n  background: #fafafa;\\n}\\n.calendar-day.has-transactions[_ngcontent-%COMP%] {\\n  border-color: #F5D547;\\n  background: #fffef5;\\n}\\n\\n.day-number[_ngcontent-%COMP%] {\\n  font-size: 14px;\\n  font-weight: 600;\\n  color: #333;\\n  margin-bottom: 4px;\\n}\\n\\n.day-transactions[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 3px;\\n  font-size: 11px;\\n  font-weight: 600;\\n}\\n\\n.transaction-amount[_ngcontent-%COMP%] {\\n  padding: 2px 6px;\\n  border-radius: 4px;\\n}\\n.transaction-amount.income[_ngcontent-%COMP%] {\\n  color: #22c55e;\\n  background: #f0fdf4;\\n}\\n.transaction-amount.expense[_ngcontent-%COMP%] {\\n  color: #ef4444;\\n  background: #fef2f2;\\n}\\n\\n@media (max-width: 768px) {\\n  .balance-amount[_ngcontent-%COMP%] {\\n    font-size: 32px;\\n  }\\n  .card-amount[_ngcontent-%COMP%] {\\n    font-size: 20px;\\n  }\\n  .month-title[_ngcontent-%COMP%] {\\n    font-size: 18px;\\n  }\\n  .calendar-day[_ngcontent-%COMP%] {\\n    padding: 4px;\\n  }\\n  .day-number[_ngcontent-%COMP%] {\\n    font-size: 12px;\\n  }\\n  .transaction-amount[_ngcontent-%COMP%] {\\n    font-size: 10px;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvdHJhbnNhY3Rpb25zL3RyYW5zYWN0aW9ucy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFVBQUE7RUFDQSxtQkFBQTtFQUNBLGlCQUFBO0VBQ0Esb0JBQUE7QUFDRjs7QUFFQTtFQUNFLDZEQUFBO0VBQ0Esa0JBQUE7RUFDQSxrQkFBQTtFQUNBLHdDQUFBO0FBQ0Y7O0FBRUE7RUFDRSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxjQUFBO0VBQ0EseUNBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7RUFDQSw4QkFBQTtFQUNBLFNBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7QUFDRjs7QUFFQTtFQUNFLG1CQUFBO0VBQ0EsbUJBQUE7RUFDQSxhQUFBO0VBQ0EseUNBQUE7QUFDRjs7QUFFQTtFQUNFLGVBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7QUFDRjs7QUFFQTtFQUNFLGVBQUE7RUFDQSxnQkFBQTtBQUNGOztBQUVBO0VBQTRCLGNBQUE7QUFFNUI7O0FBREE7RUFBNkIsY0FBQTtBQUs3Qjs7QUFIQTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLDhCQUFBO0VBQ0EsYUFBQTtFQUNBLGlCQUFBO0VBQ0EsZ0NBQUE7QUFNRjs7QUFIQTtFQUNFLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0Esb0JBQUE7QUFNRjtBQUxFO0VBQ0UsbUJBQUE7RUFDQSxrQkFBQTtBQU9KOztBQUhBO0VBQ0UsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsV0FBQTtFQUNBLFNBQUE7QUFNRjs7QUFIQTtFQUNFLG1CQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxvQkFBQTtBQU1GO0FBTEU7RUFDRSxtQkFBQTtFQUNBLDJCQUFBO0VBQ0EsNkNBQUE7QUFPSjs7QUFIQTtFQUNFLGlCQUFBO0VBQ0Esb0JBQUE7QUFNRjs7QUFIQTtFQUNFLGFBQUE7RUFDQSxxQ0FBQTtFQUNBLFFBQUE7RUFDQSxlQUFBO0VBQ0EsZ0NBQUE7QUFNRjs7QUFIQTtFQUNFLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtBQU1GOztBQUhBO0VBQ0UsYUFBQTtFQUNBLHFDQUFBO0VBQ0EsUUFBQTtFQUNBLGlCQUFBO0FBTUY7O0FBSEE7RUFDRSxlQUFBO0VBQ0EseUJBQUE7RUFDQSxtQkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0Esb0JBQUE7RUFDQSxlQUFBO0FBTUY7QUFKRTtFQUNFLHFCQUFBO0VBQ0EseUNBQUE7RUFDQSwyQkFBQTtBQU1KO0FBSEU7RUFDRSxxQkFBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7QUFLSjtBQUZFO0VBQ0UsWUFBQTtFQUNBLG1CQUFBO0FBSUo7QUFERTtFQUNFLHFCQUFBO0VBQ0EsbUJBQUE7QUFHSjs7QUFDQTtFQUNFLGVBQUE7RUFDQSxnQkFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtBQUVGOztBQUNBO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsUUFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBQUVGOztBQUNBO0VBQ0UsZ0JBQUE7RUFDQSxrQkFBQTtBQUVGO0FBQUU7RUFDRSxjQUFBO0VBQ0EsbUJBQUE7QUFFSjtBQUNFO0VBQ0UsY0FBQTtFQUNBLG1CQUFBO0FBQ0o7O0FBR0E7RUFDRTtJQUFrQixlQUFBO0VBQ2xCO0VBQUE7SUFBZSxlQUFBO0VBR2Y7RUFGQTtJQUFlLGVBQUE7RUFLZjtFQUpBO0lBQWdCLFlBQUE7RUFPaEI7RUFOQTtJQUFjLGVBQUE7RUFTZDtFQVJBO0lBQXNCLGVBQUE7RUFXdEI7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIi50cmFuc2FjdGlvbnMtY29udGFpbmVyIHtcbiAgcGFkZGluZzogMDtcbiAgYmFja2dyb3VuZDogI2Y1ZjVmNTtcbiAgbWluLWhlaWdodDogMTAwdmg7XG4gIHBhZGRpbmctYm90dG9tOiA4MHB4O1xufVxuXG4uYmFsYW5jZS1iYW5uZXIge1xuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjRjVENTQ3IDAlLCAjRjVDNTE4IDEwMCUpO1xuICBwYWRkaW5nOiAzMHB4IDIwcHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMCwwLDAsMC4xKTtcbn1cblxuLmJhbGFuY2UtYW1vdW50IHtcbiAgZm9udC1zaXplOiA0MnB4O1xuICBmb250LXdlaWdodDogNzAwO1xuICBjb2xvcjogIzJkNTAxNjtcbiAgdGV4dC1zaGFkb3c6IDAgMXB4IDJweCByZ2JhKDAsMCwwLDAuMSk7XG59XG5cbi5zdW1tYXJ5LWNhcmRzIHtcbiAgZGlzcGxheTogZ3JpZDtcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyO1xuICBnYXA6IDE1cHg7XG4gIHBhZGRpbmc6IDIwcHg7XG4gIGJhY2tncm91bmQ6ICNGNUQ1NDc7XG59XG5cbi5zdW1tYXJ5LWNhcmQge1xuICBiYWNrZ3JvdW5kOiAjZmRmZGY4O1xuICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICBwYWRkaW5nOiAyMHB4O1xuICBib3gtc2hhZG93OiAwIDJweCA2cHggcmdiYSgwLDAsMCwwLjA4KTtcbn1cblxuLmNhcmQtbGFiZWwge1xuICBmb250LXNpemU6IDE0cHg7XG4gIGNvbG9yOiAjNjY2O1xuICBtYXJnaW4tYm90dG9tOiA4cHg7XG59XG5cbi5jYXJkLWFtb3VudCB7XG4gIGZvbnQtc2l6ZTogMjRweDtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbn1cblxuLmluY29tZS1jYXJkIC5jYXJkLWFtb3VudCB7IGNvbG9yOiAjMjJjNTVlOyB9XG4uZXhwZW5zZS1jYXJkIC5jYXJkLWFtb3VudCB7IGNvbG9yOiAjZWY0NDQ0OyB9XG5cbi5jYWxlbmRhci1uYXYge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIHBhZGRpbmc6IDIwcHg7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U1ZTVlNTtcbn1cblxuLm5hdi1idG4ge1xuICBiYWNrZ3JvdW5kOiBub25lO1xuICBib3JkZXI6IG5vbmU7XG4gIGZvbnQtc2l6ZTogMjRweDtcbiAgY29sb3I6ICMzMzM7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgcGFkZGluZzogNXB4IDE1cHg7XG4gIHRyYW5zaXRpb246IGFsbCAwLjJzO1xuICAmOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kOiAjZjVmNWY1O1xuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgfVxufVxuXG4ubW9udGgtdGl0bGUge1xuICBmb250LXNpemU6IDIwcHg7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIGNvbG9yOiAjMzMzO1xuICBtYXJnaW46IDA7XG59XG5cbi50b2RheS1idG4ge1xuICBiYWNrZ3JvdW5kOiAjRjVENTQ3O1xuICBib3JkZXI6IG5vbmU7XG4gIHBhZGRpbmc6IDhweCAyMHB4O1xuICBib3JkZXItcmFkaXVzOiAyMHB4O1xuICBmb250LXdlaWdodDogNjAwO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHRyYW5zaXRpb246IGFsbCAwLjJzO1xuICAmOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kOiAjRjVDNTE4O1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMXB4KTtcbiAgICBib3gtc2hhZG93OiAwIDJweCA4cHggcmdiYSgyNDUsIDIxMywgNzEsIDAuMyk7XG4gIH1cbn1cblxuLmNhbGVuZGFyIHtcbiAgYmFja2dyb3VuZDogd2hpdGU7XG4gIHBhZGRpbmc6IDAgMTBweCAyMHB4O1xufVxuXG4uY2FsZW5kYXItaGVhZGVyIHtcbiAgZGlzcGxheTogZ3JpZDtcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoNywgMWZyKTtcbiAgZ2FwOiA1cHg7XG4gIHBhZGRpbmc6IDE1cHggMDtcbiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICNmMGYwZjA7XG59XG5cbi5kYXktaGVhZGVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXdlaWdodDogNjAwO1xuICBjb2xvcjogIzY2NjtcbiAgZm9udC1zaXplOiAxNHB4O1xufVxuXG4uY2FsZW5kYXItZ3JpZCB7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDcsIDFmcik7XG4gIGdhcDogOHB4O1xuICBwYWRkaW5nLXRvcDogMTBweDtcbn1cblxuLmNhbGVuZGFyLWRheSB7XG4gIGFzcGVjdC1yYXRpbzogMTtcbiAgYm9yZGVyOiAycHggc29saWQgI2YwZjBmMDtcbiAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgcGFkZGluZzogOHB4O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICB0cmFuc2l0aW9uOiBhbGwgMC4ycztcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBcbiAgJjpob3ZlciB7XG4gICAgYm9yZGVyLWNvbG9yOiAjRjVENTQ3O1xuICAgIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsMCwwLDAuMDgpO1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTtcbiAgfVxuICBcbiAgJi50b2RheSB7XG4gICAgYm9yZGVyLWNvbG9yOiAjRjVENTQ3O1xuICAgIGJvcmRlci13aWR0aDogM3B4O1xuICAgIGJhY2tncm91bmQ6ICNmZmZlZjU7XG4gIH1cbiAgXG4gICYub3RoZXItbW9udGgge1xuICAgIG9wYWNpdHk6IDAuMztcbiAgICBiYWNrZ3JvdW5kOiAjZmFmYWZhO1xuICB9XG4gIFxuICAmLmhhcy10cmFuc2FjdGlvbnMge1xuICAgIGJvcmRlci1jb2xvcjogI0Y1RDU0NztcbiAgICBiYWNrZ3JvdW5kOiAjZmZmZWY1O1xuICB9XG59XG5cbi5kYXktbnVtYmVyIHtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBmb250LXdlaWdodDogNjAwO1xuICBjb2xvcjogIzMzMztcbiAgbWFyZ2luLWJvdHRvbTogNHB4O1xufVxuXG4uZGF5LXRyYW5zYWN0aW9ucyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGdhcDogM3B4O1xuICBmb250LXNpemU6IDExcHg7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG59XG5cbi50cmFuc2FjdGlvbi1hbW91bnQge1xuICBwYWRkaW5nOiAycHggNnB4O1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIFxuICAmLmluY29tZSB7XG4gICAgY29sb3I6ICMyMmM1NWU7XG4gICAgYmFja2dyb3VuZDogI2YwZmRmNDtcbiAgfVxuICBcbiAgJi5leHBlbnNlIHtcbiAgICBjb2xvcjogI2VmNDQ0NDtcbiAgICBiYWNrZ3JvdW5kOiAjZmVmMmYyO1xuICB9XG59XG5cbkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xuICAuYmFsYW5jZS1hbW91bnQgeyBmb250LXNpemU6IDMycHg7IH1cbiAgLmNhcmQtYW1vdW50IHsgZm9udC1zaXplOiAyMHB4OyB9XG4gIC5tb250aC10aXRsZSB7IGZvbnQtc2l6ZTogMThweDsgfVxuICAuY2FsZW5kYXItZGF5IHsgcGFkZGluZzogNHB4OyB9XG4gIC5kYXktbnVtYmVyIHsgZm9udC1zaXplOiAxMnB4OyB9XG4gIC50cmFuc2FjdGlvbi1hbW91bnQgeyBmb250LXNpemU6IDEwcHg7IH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["HttpHeaders","environment","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","day_r1","ɵɵtextInterpolate1","ctx_r2","formatShortAmount","dayData_r2","totalIncome","totalExpense","ɵɵtemplate","TransactionsComponent_div_30_div_3_div_1_Template","TransactionsComponent_div_30_div_3_div_2_Template","ɵɵproperty","TransactionsComponent_div_30_div_3_Template","ɵɵclassProp","isToday","date","isOtherMonth","transactions","length","getDate","TransactionsComponent","constructor","http","currentDate","Date","currentMonth","calendarDays","totalBalance","weekDays","ngOnInit","loadTransactions","token","localStorage","getItem","headers","set","get","apiUrl","subscribe","next","calculateTotals","generateCalendar","error","err","console","forEach","t","transactionType","amount","year","getFullYear","month","getMonth","firstDay","lastDay","startDayOfWeek","getDay","prevMonthLastDay","i","push","createDayData","day","remainingDays","dayTransactions","filter","tDate","transactionDate","toDateString","previousMonth","nextMonth","goToToday","getMonthYear","toLocaleDateString","today","formatAmount","toLocaleString","minimumFractionDigits","maximumFractionDigits","toFixed","ɵɵdirectiveInject","i1","HttpClient","selectors","decls","vars","consts","template","TransactionsComponent_Template","rf","ctx","ɵɵlistener","TransactionsComponent_Template_button_click_16_listener","TransactionsComponent_Template_button_click_21_listener","TransactionsComponent_Template_button_click_24_listener","TransactionsComponent_div_28_Template","TransactionsComponent_div_30_Template"],"sources":["D:\\code\\PersonalMoneyFlow\\frontend\\src\\app\\features\\transactions\\transactions.component.ts","D:\\code\\PersonalMoneyFlow\\frontend\\src\\app\\features\\transactions\\transactions.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { environment } from '../../../environments/environment';\n\ninterface Transaction {\n  id: number;\n  transactionType: string;\n  amount: number;\n  transactionDate: string;\n  description: string;\n  categoryId: number;\n}\n\ninterface DayTransactions {\n  date: Date;\n  transactions: Transaction[];\n  totalIncome: number;\n  totalExpense: number;\n}\n\n@Component({\n  selector: 'app-transactions',\n  templateUrl: './transactions.component.html',\n  styleUrls: ['./transactions.component.scss']\n})\nexport class TransactionsComponent implements OnInit {\n  currentDate = new Date();\n  currentMonth = new Date();\n  calendarDays: DayTransactions[] = [];\n  \n  totalBalance = 0;\n  totalIncome = 0;\n  totalExpense = 0;\n  \n  weekDays = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];\n  \n  constructor(private http: HttpClient) {}\n  \n  ngOnInit(): void {\n    this.loadTransactions();\n  }\n  \n  loadTransactions(): void {\n    const token = localStorage.getItem('token');\n    const headers = new HttpHeaders().set('Authorization', `Bearer ${token}`);\n    \n    this.http.get<Transaction[]>(`${environment.apiUrl}/transactions`, { headers })\n      .subscribe({\n        next: (transactions) => {\n          this.calculateTotals(transactions);\n          this.generateCalendar(transactions);\n        },\n        error: (err) => {\n          console.error('Error loading transactions:', err);\n          this.calculateTotals([]);\n          this.generateCalendar([]);\n        }\n      });\n  }\n  \n  calculateTotals(transactions: Transaction[]): void {\n    this.totalIncome = 0;\n    this.totalExpense = 0;\n    \n    transactions.forEach(t => {\n      if (t.transactionType === 'INCOME') {\n        this.totalIncome += t.amount;\n      } else {\n        this.totalExpense += t.amount;\n      }\n    });\n    \n    this.totalBalance = this.totalIncome - this.totalExpense;\n  }\n  \n  generateCalendar(transactions: Transaction[]): void {\n    const year = this.currentMonth.getFullYear();\n    const month = this.currentMonth.getMonth();\n    \n    const firstDay = new Date(year, month, 1);\n    const lastDay = new Date(year, month + 1, 0);\n    \n    let startDayOfWeek = firstDay.getDay();\n    startDayOfWeek = startDayOfWeek === 0 ? 6 : startDayOfWeek - 1;\n    \n    this.calendarDays = [];\n    \n    const prevMonthLastDay = new Date(year, month, 0).getDate();\n    for (let i = startDayOfWeek - 1; i >= 0; i--) {\n      const date = new Date(year, month - 1, prevMonthLastDay - i);\n      this.calendarDays.push(this.createDayData(date, transactions));\n    }\n    \n    for (let day = 1; day <= lastDay.getDate(); day++) {\n      const date = new Date(year, month, day);\n      this.calendarDays.push(this.createDayData(date, transactions));\n    }\n    \n    const remainingDays = 42 - this.calendarDays.length;\n    for (let day = 1; day <= remainingDays; day++) {\n      const date = new Date(year, month + 1, day);\n      this.calendarDays.push(this.createDayData(date, transactions));\n    }\n  }\n  \n  createDayData(date: Date, transactions: Transaction[]): DayTransactions {\n    const dayTransactions = transactions.filter(t => {\n      const tDate = new Date(t.transactionDate);\n      return tDate.toDateString() === date.toDateString();\n    });\n    \n    let totalIncome = 0;\n    let totalExpense = 0;\n    \n    dayTransactions.forEach(t => {\n      if (t.transactionType === 'INCOME') {\n        totalIncome += t.amount;\n      } else {\n        totalExpense += t.amount;\n      }\n    });\n    \n    return { date, transactions: dayTransactions, totalIncome, totalExpense };\n  }\n  \n  previousMonth(): void {\n    this.currentMonth = new Date(this.currentMonth.getFullYear(), this.currentMonth.getMonth() - 1, 1);\n    this.loadTransactions();\n  }\n  \n  nextMonth(): void {\n    this.currentMonth = new Date(this.currentMonth.getFullYear(), this.currentMonth.getMonth() + 1, 1);\n    this.loadTransactions();\n  }\n  \n  goToToday(): void {\n    this.currentMonth = new Date();\n    this.loadTransactions();\n  }\n  \n  getMonthYear(): string {\n    return this.currentMonth.toLocaleDateString('en-US', { month: 'long', year: 'numeric' });\n  }\n  \n  isToday(date: Date): boolean {\n    const today = new Date();\n    return date.toDateString() === today.toDateString();\n  }\n  \n  isOtherMonth(date: Date): boolean {\n    return date.getMonth() !== this.currentMonth.getMonth();\n  }\n  \n  formatAmount(amount: number): string {\n    return `$${amount.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\n  }\n  \n  formatShortAmount(amount: number): string {\n    if (amount >= 1000000) {\n      return `$${(amount / 1000000).toFixed(1)}M`;\n    }\n    if (amount >= 1000) {\n      return `$${(amount / 1000).toFixed(1)}K`;\n    }\n    return `$${amount.toFixed(0)}`;\n  }\n}\n","<div class=\"transactions-container\">\n  <div class=\"balance-banner\">\n    <div class=\"balance-amount\">{{ formatAmount(totalBalance) }}</div>\n  </div>\n\n  <div class=\"summary-cards\">\n    <div class=\"summary-card income-card\">\n      <div class=\"card-label\">Income</div>\n      <div class=\"card-amount\">{{ formatAmount(totalIncome) }}</div>\n    </div>\n    <div class=\"summary-card expense-card\">\n      <div class=\"card-label\">Expense</div>\n      <div class=\"card-amount\">{{ formatAmount(totalExpense) }}</div>\n    </div>\n  </div>\n\n  <div class=\"calendar-nav\">\n    <button class=\"nav-btn\" (click)=\"previousMonth()\"><span>←</span></button>\n    <h2 class=\"month-title\">{{ getMonthYear() }}</h2>\n    <button class=\"nav-btn\" (click)=\"nextMonth()\"><span>→</span></button>\n    <button class=\"today-btn\" (click)=\"goToToday()\">Today</button>\n  </div>\n\n  <div class=\"calendar\">\n    <div class=\"calendar-header\">\n      <div class=\"day-header\" *ngFor=\"let day of weekDays\">{{ day }}</div>\n    </div>\n\n    <div class=\"calendar-grid\">\n      <div *ngFor=\"let dayData of calendarDays\" class=\"calendar-day\"\n        [class.today]=\"isToday(dayData.date)\"\n        [class.other-month]=\"isOtherMonth(dayData.date)\"\n        [class.has-transactions]=\"dayData.transactions.length > 0\">\n        <div class=\"day-number\">{{ dayData.date.getDate() }}</div>\n        <div class=\"day-transactions\" *ngIf=\"dayData.transactions.length > 0\">\n          <div class=\"transaction-amount income\" *ngIf=\"dayData.totalIncome > 0\">\n            {{ formatShortAmount(dayData.totalIncome) }}\n          </div>\n          <div class=\"transaction-amount expense\" *ngIf=\"dayData.totalExpense > 0\">\n            {{ formatShortAmount(dayData.totalExpense) }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"],"mappings":"AACA,SAAqBA,WAAW,QAAQ,sBAAsB;AAC9D,SAASC,WAAW,QAAQ,mCAAmC;;;;;;ICuBzDC,EAAA,CAAAC,cAAA,cAAqD;IAAAD,EAAA,CAAAE,MAAA,GAAS;IAAAF,EAAA,CAAAG,YAAA,EAAM;;;;IAAfH,EAAA,CAAAI,SAAA,EAAS;IAATJ,EAAA,CAAAK,iBAAA,CAAAC,MAAA,CAAS;;;;;IAU1DN,EAAA,CAAAC,cAAA,cAAuE;IACrED,EAAA,CAAAE,MAAA,GACF;IAAAF,EAAA,CAAAG,YAAA,EAAM;;;;;IADJH,EAAA,CAAAI,SAAA,EACF;IADEJ,EAAA,CAAAO,kBAAA,MAAAC,MAAA,CAAAC,iBAAA,CAAAC,UAAA,CAAAC,WAAA,OACF;;;;;IACAX,EAAA,CAAAC,cAAA,cAAyE;IACvED,EAAA,CAAAE,MAAA,GACF;IAAAF,EAAA,CAAAG,YAAA,EAAM;;;;;IADJH,EAAA,CAAAI,SAAA,EACF;IADEJ,EAAA,CAAAO,kBAAA,MAAAC,MAAA,CAAAC,iBAAA,CAAAC,UAAA,CAAAE,YAAA,OACF;;;;;IANFZ,EAAA,CAAAC,cAAA,cAAsE;IAIpED,EAHA,CAAAa,UAAA,IAAAC,iDAAA,kBAAuE,IAAAC,iDAAA,kBAGE;IAG3Ef,EAAA,CAAAG,YAAA,EAAM;;;;IANoCH,EAAA,CAAAI,SAAA,EAA6B;IAA7BJ,EAAA,CAAAgB,UAAA,SAAAN,UAAA,CAAAC,WAAA,KAA6B;IAG5BX,EAAA,CAAAI,SAAA,EAA8B;IAA9BJ,EAAA,CAAAgB,UAAA,SAAAN,UAAA,CAAAE,YAAA,KAA8B;;;;;IALzEZ,EAJF,CAAAC,cAAA,cAG6D,cACnC;IAAAD,EAAA,CAAAE,MAAA,GAA4B;IAAAF,EAAA,CAAAG,YAAA,EAAM;IAC1DH,EAAA,CAAAa,UAAA,IAAAI,2CAAA,kBAAsE;IAQxEjB,EAAA,CAAAG,YAAA,EAAM;;;;;IAVJH,EAFA,CAAAkB,WAAA,UAAAV,MAAA,CAAAW,OAAA,CAAAT,UAAA,CAAAU,IAAA,EAAqC,gBAAAZ,MAAA,CAAAa,YAAA,CAAAX,UAAA,CAAAU,IAAA,EACW,qBAAAV,UAAA,CAAAY,YAAA,CAAAC,MAAA,KACU;IAClCvB,EAAA,CAAAI,SAAA,GAA4B;IAA5BJ,EAAA,CAAAK,iBAAA,CAAAK,UAAA,CAAAU,IAAA,CAAAI,OAAA,GAA4B;IACrBxB,EAAA,CAAAI,SAAA,EAAqC;IAArCJ,EAAA,CAAAgB,UAAA,SAAAN,UAAA,CAAAY,YAAA,CAAAC,MAAA,KAAqC;;;ADT5E,OAAM,MAAOE,qBAAqB;EAWhCC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAVxB,KAAAC,WAAW,GAAG,IAAIC,IAAI,EAAE;IACxB,KAAAC,YAAY,GAAG,IAAID,IAAI,EAAE;IACzB,KAAAE,YAAY,GAAsB,EAAE;IAEpC,KAAAC,YAAY,GAAG,CAAC;IAChB,KAAArB,WAAW,GAAG,CAAC;IACf,KAAAC,YAAY,GAAG,CAAC;IAEhB,KAAAqB,QAAQ,GAAG,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC;EAErB;EAEvCC,QAAQA,CAAA;IACN,IAAI,CAACC,gBAAgB,EAAE;EACzB;EAEAA,gBAAgBA,CAAA;IACd,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,MAAMC,OAAO,GAAG,IAAIzC,WAAW,EAAE,CAAC0C,GAAG,CAAC,eAAe,EAAE,UAAUJ,KAAK,EAAE,CAAC;IAEzE,IAAI,CAACT,IAAI,CAACc,GAAG,CAAgB,GAAG1C,WAAW,CAAC2C,MAAM,eAAe,EAAE;MAAEH;IAAO,CAAE,CAAC,CAC5EI,SAAS,CAAC;MACTC,IAAI,EAAGtB,YAAY,IAAI;QACrB,IAAI,CAACuB,eAAe,CAACvB,YAAY,CAAC;QAClC,IAAI,CAACwB,gBAAgB,CAACxB,YAAY,CAAC;MACrC,CAAC;MACDyB,KAAK,EAAGC,GAAG,IAAI;QACbC,OAAO,CAACF,KAAK,CAAC,6BAA6B,EAAEC,GAAG,CAAC;QACjD,IAAI,CAACH,eAAe,CAAC,EAAE,CAAC;QACxB,IAAI,CAACC,gBAAgB,CAAC,EAAE,CAAC;MAC3B;KACD,CAAC;EACN;EAEAD,eAAeA,CAACvB,YAA2B;IACzC,IAAI,CAACX,WAAW,GAAG,CAAC;IACpB,IAAI,CAACC,YAAY,GAAG,CAAC;IAErBU,YAAY,CAAC4B,OAAO,CAACC,CAAC,IAAG;MACvB,IAAIA,CAAC,CAACC,eAAe,KAAK,QAAQ,EAAE;QAClC,IAAI,CAACzC,WAAW,IAAIwC,CAAC,CAACE,MAAM;OAC7B,MAAM;QACL,IAAI,CAACzC,YAAY,IAAIuC,CAAC,CAACE,MAAM;;IAEjC,CAAC,CAAC;IAEF,IAAI,CAACrB,YAAY,GAAG,IAAI,CAACrB,WAAW,GAAG,IAAI,CAACC,YAAY;EAC1D;EAEAkC,gBAAgBA,CAACxB,YAA2B;IAC1C,MAAMgC,IAAI,GAAG,IAAI,CAACxB,YAAY,CAACyB,WAAW,EAAE;IAC5C,MAAMC,KAAK,GAAG,IAAI,CAAC1B,YAAY,CAAC2B,QAAQ,EAAE;IAE1C,MAAMC,QAAQ,GAAG,IAAI7B,IAAI,CAACyB,IAAI,EAAEE,KAAK,EAAE,CAAC,CAAC;IACzC,MAAMG,OAAO,GAAG,IAAI9B,IAAI,CAACyB,IAAI,EAAEE,KAAK,GAAG,CAAC,EAAE,CAAC,CAAC;IAE5C,IAAII,cAAc,GAAGF,QAAQ,CAACG,MAAM,EAAE;IACtCD,cAAc,GAAGA,cAAc,KAAK,CAAC,GAAG,CAAC,GAAGA,cAAc,GAAG,CAAC;IAE9D,IAAI,CAAC7B,YAAY,GAAG,EAAE;IAEtB,MAAM+B,gBAAgB,GAAG,IAAIjC,IAAI,CAACyB,IAAI,EAAEE,KAAK,EAAE,CAAC,CAAC,CAAChC,OAAO,EAAE;IAC3D,KAAK,IAAIuC,CAAC,GAAGH,cAAc,GAAG,CAAC,EAAEG,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;MAC5C,MAAM3C,IAAI,GAAG,IAAIS,IAAI,CAACyB,IAAI,EAAEE,KAAK,GAAG,CAAC,EAAEM,gBAAgB,GAAGC,CAAC,CAAC;MAC5D,IAAI,CAAChC,YAAY,CAACiC,IAAI,CAAC,IAAI,CAACC,aAAa,CAAC7C,IAAI,EAAEE,YAAY,CAAC,CAAC;;IAGhE,KAAK,IAAI4C,GAAG,GAAG,CAAC,EAAEA,GAAG,IAAIP,OAAO,CAACnC,OAAO,EAAE,EAAE0C,GAAG,EAAE,EAAE;MACjD,MAAM9C,IAAI,GAAG,IAAIS,IAAI,CAACyB,IAAI,EAAEE,KAAK,EAAEU,GAAG,CAAC;MACvC,IAAI,CAACnC,YAAY,CAACiC,IAAI,CAAC,IAAI,CAACC,aAAa,CAAC7C,IAAI,EAAEE,YAAY,CAAC,CAAC;;IAGhE,MAAM6C,aAAa,GAAG,EAAE,GAAG,IAAI,CAACpC,YAAY,CAACR,MAAM;IACnD,KAAK,IAAI2C,GAAG,GAAG,CAAC,EAAEA,GAAG,IAAIC,aAAa,EAAED,GAAG,EAAE,EAAE;MAC7C,MAAM9C,IAAI,GAAG,IAAIS,IAAI,CAACyB,IAAI,EAAEE,KAAK,GAAG,CAAC,EAAEU,GAAG,CAAC;MAC3C,IAAI,CAACnC,YAAY,CAACiC,IAAI,CAAC,IAAI,CAACC,aAAa,CAAC7C,IAAI,EAAEE,YAAY,CAAC,CAAC;;EAElE;EAEA2C,aAAaA,CAAC7C,IAAU,EAAEE,YAA2B;IACnD,MAAM8C,eAAe,GAAG9C,YAAY,CAAC+C,MAAM,CAAClB,CAAC,IAAG;MAC9C,MAAMmB,KAAK,GAAG,IAAIzC,IAAI,CAACsB,CAAC,CAACoB,eAAe,CAAC;MACzC,OAAOD,KAAK,CAACE,YAAY,EAAE,KAAKpD,IAAI,CAACoD,YAAY,EAAE;IACrD,CAAC,CAAC;IAEF,IAAI7D,WAAW,GAAG,CAAC;IACnB,IAAIC,YAAY,GAAG,CAAC;IAEpBwD,eAAe,CAAClB,OAAO,CAACC,CAAC,IAAG;MAC1B,IAAIA,CAAC,CAACC,eAAe,KAAK,QAAQ,EAAE;QAClCzC,WAAW,IAAIwC,CAAC,CAACE,MAAM;OACxB,MAAM;QACLzC,YAAY,IAAIuC,CAAC,CAACE,MAAM;;IAE5B,CAAC,CAAC;IAEF,OAAO;MAAEjC,IAAI;MAAEE,YAAY,EAAE8C,eAAe;MAAEzD,WAAW;MAAEC;IAAY,CAAE;EAC3E;EAEA6D,aAAaA,CAAA;IACX,IAAI,CAAC3C,YAAY,GAAG,IAAID,IAAI,CAAC,IAAI,CAACC,YAAY,CAACyB,WAAW,EAAE,EAAE,IAAI,CAACzB,YAAY,CAAC2B,QAAQ,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC;IAClG,IAAI,CAACtB,gBAAgB,EAAE;EACzB;EAEAuC,SAASA,CAAA;IACP,IAAI,CAAC5C,YAAY,GAAG,IAAID,IAAI,CAAC,IAAI,CAACC,YAAY,CAACyB,WAAW,EAAE,EAAE,IAAI,CAACzB,YAAY,CAAC2B,QAAQ,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC;IAClG,IAAI,CAACtB,gBAAgB,EAAE;EACzB;EAEAwC,SAASA,CAAA;IACP,IAAI,CAAC7C,YAAY,GAAG,IAAID,IAAI,EAAE;IAC9B,IAAI,CAACM,gBAAgB,EAAE;EACzB;EAEAyC,YAAYA,CAAA;IACV,OAAO,IAAI,CAAC9C,YAAY,CAAC+C,kBAAkB,CAAC,OAAO,EAAE;MAAErB,KAAK,EAAE,MAAM;MAAEF,IAAI,EAAE;IAAS,CAAE,CAAC;EAC1F;EAEAnC,OAAOA,CAACC,IAAU;IAChB,MAAM0D,KAAK,GAAG,IAAIjD,IAAI,EAAE;IACxB,OAAOT,IAAI,CAACoD,YAAY,EAAE,KAAKM,KAAK,CAACN,YAAY,EAAE;EACrD;EAEAnD,YAAYA,CAACD,IAAU;IACrB,OAAOA,IAAI,CAACqC,QAAQ,EAAE,KAAK,IAAI,CAAC3B,YAAY,CAAC2B,QAAQ,EAAE;EACzD;EAEAsB,YAAYA,CAAC1B,MAAc;IACzB,OAAO,IAAIA,MAAM,CAAC2B,cAAc,CAAC,OAAO,EAAE;MAAEC,qBAAqB,EAAE,CAAC;MAAEC,qBAAqB,EAAE;IAAC,CAAE,CAAC,EAAE;EACrG;EAEAzE,iBAAiBA,CAAC4C,MAAc;IAC9B,IAAIA,MAAM,IAAI,OAAO,EAAE;MACrB,OAAO,IAAI,CAACA,MAAM,GAAG,OAAO,EAAE8B,OAAO,CAAC,CAAC,CAAC,GAAG;;IAE7C,IAAI9B,MAAM,IAAI,IAAI,EAAE;MAClB,OAAO,IAAI,CAACA,MAAM,GAAG,IAAI,EAAE8B,OAAO,CAAC,CAAC,CAAC,GAAG;;IAE1C,OAAO,IAAI9B,MAAM,CAAC8B,OAAO,CAAC,CAAC,CAAC,EAAE;EAChC;;;uBA5IW1D,qBAAqB,EAAAzB,EAAA,CAAAoF,iBAAA,CAAAC,EAAA,CAAAC,UAAA;IAAA;EAAA;;;YAArB7D,qBAAqB;MAAA8D,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,+BAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCvB9B7F,EAFJ,CAAAC,cAAA,aAAoC,aACN,aACE;UAAAD,EAAA,CAAAE,MAAA,GAAgC;UAC9DF,EAD8D,CAAAG,YAAA,EAAM,EAC9D;UAIFH,EAFJ,CAAAC,cAAA,aAA2B,aACa,aACZ;UAAAD,EAAA,CAAAE,MAAA,aAAM;UAAAF,EAAA,CAAAG,YAAA,EAAM;UACpCH,EAAA,CAAAC,cAAA,aAAyB;UAAAD,EAAA,CAAAE,MAAA,GAA+B;UAC1DF,EAD0D,CAAAG,YAAA,EAAM,EAC1D;UAEJH,EADF,CAAAC,cAAA,cAAuC,cACb;UAAAD,EAAA,CAAAE,MAAA,eAAO;UAAAF,EAAA,CAAAG,YAAA,EAAM;UACrCH,EAAA,CAAAC,cAAA,cAAyB;UAAAD,EAAA,CAAAE,MAAA,IAAgC;UAE7DF,EAF6D,CAAAG,YAAA,EAAM,EAC3D,EACF;UAGJH,EADF,CAAAC,cAAA,cAA0B,iBAC0B;UAA1BD,EAAA,CAAA+F,UAAA,mBAAAC,wDAAA;YAAA,OAASF,GAAA,CAAArB,aAAA,EAAe;UAAA,EAAC;UAACzE,EAAA,CAAAC,cAAA,YAAM;UAAAD,EAAA,CAAAE,MAAA,cAAC;UAAOF,EAAP,CAAAG,YAAA,EAAO,EAAS;UACzEH,EAAA,CAAAC,cAAA,cAAwB;UAAAD,EAAA,CAAAE,MAAA,IAAoB;UAAAF,EAAA,CAAAG,YAAA,EAAK;UACjDH,EAAA,CAAAC,cAAA,iBAA8C;UAAtBD,EAAA,CAAA+F,UAAA,mBAAAE,wDAAA;YAAA,OAASH,GAAA,CAAApB,SAAA,EAAW;UAAA,EAAC;UAAC1E,EAAA,CAAAC,cAAA,YAAM;UAAAD,EAAA,CAAAE,MAAA,cAAC;UAAOF,EAAP,CAAAG,YAAA,EAAO,EAAS;UACrEH,EAAA,CAAAC,cAAA,kBAAgD;UAAtBD,EAAA,CAAA+F,UAAA,mBAAAG,wDAAA;YAAA,OAASJ,GAAA,CAAAnB,SAAA,EAAW;UAAA,EAAC;UAAC3E,EAAA,CAAAE,MAAA,aAAK;UACvDF,EADuD,CAAAG,YAAA,EAAS,EAC1D;UAGJH,EADF,CAAAC,cAAA,eAAsB,eACS;UAC3BD,EAAA,CAAAa,UAAA,KAAAsF,qCAAA,kBAAqD;UACvDnG,EAAA,CAAAG,YAAA,EAAM;UAENH,EAAA,CAAAC,cAAA,eAA2B;UACzBD,EAAA,CAAAa,UAAA,KAAAuF,qCAAA,kBAG6D;UAanEpG,EAFI,CAAAG,YAAA,EAAM,EACF,EACF;;;UA3C0BH,EAAA,CAAAI,SAAA,GAAgC;UAAhCJ,EAAA,CAAAK,iBAAA,CAAAyF,GAAA,CAAAf,YAAA,CAAAe,GAAA,CAAA9D,YAAA,EAAgC;UAMjChC,EAAA,CAAAI,SAAA,GAA+B;UAA/BJ,EAAA,CAAAK,iBAAA,CAAAyF,GAAA,CAAAf,YAAA,CAAAe,GAAA,CAAAnF,WAAA,EAA+B;UAI/BX,EAAA,CAAAI,SAAA,GAAgC;UAAhCJ,EAAA,CAAAK,iBAAA,CAAAyF,GAAA,CAAAf,YAAA,CAAAe,GAAA,CAAAlF,YAAA,EAAgC;UAMnCZ,EAAA,CAAAI,SAAA,GAAoB;UAApBJ,EAAA,CAAAK,iBAAA,CAAAyF,GAAA,CAAAlB,YAAA,GAAoB;UAOF5E,EAAA,CAAAI,SAAA,GAAW;UAAXJ,EAAA,CAAAgB,UAAA,YAAA8E,GAAA,CAAA7D,QAAA,CAAW;UAI1BjC,EAAA,CAAAI,SAAA,GAAe;UAAfJ,EAAA,CAAAgB,UAAA,YAAA8E,GAAA,CAAA/D,YAAA,CAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}