{"ast":null,"code":"import { HttpParams } from '@angular/common/http';\nimport { Transaction } from '@shared/models/models';\nimport { environment } from '../../../environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class TransactionService {\n  constructor(http) {\n    this.http = http;\n    this.apiUrl = `${environment.apiUrl}/transactions`;\n  }\n  getTransactions(page = 0, size = 20) {\n    const params = new HttpParams().set('page', page.toString()).set('size', size.toString()).set('sortBy', 'transactionDate').set('direction', 'DESC');\n    return this.http.get(this.apiUrl, {\n      params\n    });\n  }\n  getTransaction(id) {\n    return this.http.get(`${this.apiUrl}/${id}`);\n  }\n  createTransaction(request) {\n    return this.http.post(this.apiUrl, request);\n  }\n  updateTransaction(id, request) {\n    return this.http.put(`${this.apiUrl}/${id}`, request);\n  }\n  deleteTransaction(id) {\n    return this.http.delete(`${this.apiUrl}/${id}`);\n  }\n  getCalendarData(yearMonth) {\n    const params = new HttpParams().set('month', yearMonth);\n    return this.http.get(`${this.apiUrl}/calendar`, {\n      params\n    });\n  }\n  getTransactionsByDate(date) {\n    return this.http.get(`${this.apiUrl}/date/${date}`);\n  }\n  getMonthlySummary(yearMonth) {\n    const params = new HttpParams().set('month', yearMonth);\n    return this.http.get(`${this.apiUrl}/summary`, {\n      params\n    });\n  }\n  static {\n    this.ɵfac = function TransactionService_Factory(t) {\n      return new (t || TransactionService)(i0.ɵɵinject(i1.HttpClient));\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: TransactionService,\n      factory: TransactionService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}","map":{"version":3,"names":["HttpParams","Transaction","environment","TransactionService","constructor","http","apiUrl","getTransactions","page","size","params","set","toString","get","getTransaction","id","createTransaction","request","post","updateTransaction","put","deleteTransaction","delete","getCalendarData","yearMonth","getTransactionsByDate","date","getMonthlySummary","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["D:\\code\\PersonalMoneyFlow\\frontend\\src\\app\\core\\services\\transaction.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { Transaction, TransactionRequest, CalendarData } from '@shared/models/models';\nimport { environment } from '../../../environments/environment';\n\nexport { Transaction };\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TransactionService {\n  private apiUrl = `${environment.apiUrl}/transactions`;\n\n  constructor(private http: HttpClient) {}\n\n  getTransactions(page: number = 0, size: number = 20): Observable<any> {\n    const params = new HttpParams()\n      .set('page', page.toString())\n      .set('size', size.toString())\n      .set('sortBy', 'transactionDate')\n      .set('direction', 'DESC');\n\n    return this.http.get<any>(this.apiUrl, { params });\n  }\n\n  getTransaction(id: number): Observable<Transaction> {\n    return this.http.get<Transaction>(`${this.apiUrl}/${id}`);\n  }\n\n  createTransaction(request: TransactionRequest): Observable<Transaction> {\n    return this.http.post<Transaction>(this.apiUrl, request);\n  }\n\n  updateTransaction(id: number, request: TransactionRequest): Observable<Transaction> {\n    return this.http.put<Transaction>(`${this.apiUrl}/${id}`, request);\n  }\n\n  deleteTransaction(id: number): Observable<void> {\n    return this.http.delete<void>(`${this.apiUrl}/${id}`);\n  }\n\n  getCalendarData(yearMonth: string): Observable<CalendarData> {\n    const params = new HttpParams().set('month', yearMonth);\n    return this.http.get<CalendarData>(`${this.apiUrl}/calendar`, { params });\n  }\n\n  getTransactionsByDate(date: string): Observable<Transaction[]> {\n    return this.http.get<Transaction[]>(`${this.apiUrl}/date/${date}`);\n  }\n\n  getMonthlySummary(yearMonth: string): Observable<any> {\n    const params = new HttpParams().set('month', yearMonth);\n    return this.http.get<any>(`${this.apiUrl}/summary`, { params });\n  }\n}\n"],"mappings":"AACA,SAAqBA,UAAU,QAAQ,sBAAsB;AAE7D,SAASC,WAAW,QAA0C,uBAAuB;AACrF,SAASC,WAAW,QAAQ,mCAAmC;;;AAO/D,OAAM,MAAOC,kBAAkB;EAG7BC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAFhB,KAAAC,MAAM,GAAG,GAAGJ,WAAW,CAACI,MAAM,eAAe;EAEd;EAEvCC,eAAeA,CAACC,IAAA,GAAe,CAAC,EAAEC,IAAA,GAAe,EAAE;IACjD,MAAMC,MAAM,GAAG,IAAIV,UAAU,EAAE,CAC5BW,GAAG,CAAC,MAAM,EAAEH,IAAI,CAACI,QAAQ,EAAE,CAAC,CAC5BD,GAAG,CAAC,MAAM,EAAEF,IAAI,CAACG,QAAQ,EAAE,CAAC,CAC5BD,GAAG,CAAC,QAAQ,EAAE,iBAAiB,CAAC,CAChCA,GAAG,CAAC,WAAW,EAAE,MAAM,CAAC;IAE3B,OAAO,IAAI,CAACN,IAAI,CAACQ,GAAG,CAAM,IAAI,CAACP,MAAM,EAAE;MAAEI;IAAM,CAAE,CAAC;EACpD;EAEAI,cAAcA,CAACC,EAAU;IACvB,OAAO,IAAI,CAACV,IAAI,CAACQ,GAAG,CAAc,GAAG,IAAI,CAACP,MAAM,IAAIS,EAAE,EAAE,CAAC;EAC3D;EAEAC,iBAAiBA,CAACC,OAA2B;IAC3C,OAAO,IAAI,CAACZ,IAAI,CAACa,IAAI,CAAc,IAAI,CAACZ,MAAM,EAAEW,OAAO,CAAC;EAC1D;EAEAE,iBAAiBA,CAACJ,EAAU,EAAEE,OAA2B;IACvD,OAAO,IAAI,CAACZ,IAAI,CAACe,GAAG,CAAc,GAAG,IAAI,CAACd,MAAM,IAAIS,EAAE,EAAE,EAAEE,OAAO,CAAC;EACpE;EAEAI,iBAAiBA,CAACN,EAAU;IAC1B,OAAO,IAAI,CAACV,IAAI,CAACiB,MAAM,CAAO,GAAG,IAAI,CAAChB,MAAM,IAAIS,EAAE,EAAE,CAAC;EACvD;EAEAQ,eAAeA,CAACC,SAAiB;IAC/B,MAAMd,MAAM,GAAG,IAAIV,UAAU,EAAE,CAACW,GAAG,CAAC,OAAO,EAAEa,SAAS,CAAC;IACvD,OAAO,IAAI,CAACnB,IAAI,CAACQ,GAAG,CAAe,GAAG,IAAI,CAACP,MAAM,WAAW,EAAE;MAAEI;IAAM,CAAE,CAAC;EAC3E;EAEAe,qBAAqBA,CAACC,IAAY;IAChC,OAAO,IAAI,CAACrB,IAAI,CAACQ,GAAG,CAAgB,GAAG,IAAI,CAACP,MAAM,SAASoB,IAAI,EAAE,CAAC;EACpE;EAEAC,iBAAiBA,CAACH,SAAiB;IACjC,MAAMd,MAAM,GAAG,IAAIV,UAAU,EAAE,CAACW,GAAG,CAAC,OAAO,EAAEa,SAAS,CAAC;IACvD,OAAO,IAAI,CAACnB,IAAI,CAACQ,GAAG,CAAM,GAAG,IAAI,CAACP,MAAM,UAAU,EAAE;MAAEI;IAAM,CAAE,CAAC;EACjE;;;uBA3CWP,kBAAkB,EAAAyB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;IAAA;EAAA;;;aAAlB5B,kBAAkB;MAAA6B,OAAA,EAAlB7B,kBAAkB,CAAA8B,IAAA;MAAAC,UAAA,EAFjB;IAAM;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}