{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class InvestmentService {\n  constructor(http) {\n    this.http = http;\n    this.API_URL = 'http://localhost:8080/api/v1';\n  }\n  // 获取投资组合\n  getPortfolio() {\n    return this.http.get(`${this.API_URL}/investments/portfolio`);\n  }\n  // 添加投资\n  addInvestment(symbol, type) {\n    return this.http.post(`${this.API_URL}/investments`, {\n      stockSymbol: symbol,\n      investmentType: type\n    });\n  }\n  // 记录买入\n  recordBuy(investmentId, shares, pricePerShare) {\n    return this.http.post(`${this.API_URL}/investments/${investmentId}/buy`, {\n      shares,\n      pricePerShare\n    });\n  }\n  // 记录卖出\n  recordSell(investmentId, shares, pricePerShare) {\n    return this.http.post(`${this.API_URL}/investments/${investmentId}/sell`, {\n      shares,\n      pricePerShare\n    });\n  }\n  // 获取投资详情\n  getInvestment(id) {\n    return this.http.get(`${this.API_URL}/investments/${id}`);\n  }\n  // 删除投资\n  deleteInvestment(id) {\n    return this.http.delete(`${this.API_URL}/investments/${id}`);\n  }\n  // 刷新价格\n  refreshPrices() {\n    return this.http.get(`${this.API_URL}/investments/refresh`);\n  }\n  static {\n    this.ɵfac = function InvestmentService_Factory(t) {\n      return new (t || InvestmentService)(i0.ɵɵinject(i1.HttpClient));\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: InvestmentService,\n      factory: InvestmentService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}","map":{"version":3,"names":["InvestmentService","constructor","http","API_URL","getPortfolio","get","addInvestment","symbol","type","post","stockSymbol","investmentType","recordBuy","investmentId","shares","pricePerShare","recordSell","getInvestment","id","deleteInvestment","delete","refreshPrices","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["D:\\code\\PersonalMoneyFlow\\frontend\\src\\app\\core\\services\\investment.service.ts"],"sourcesContent":["// investment.service.ts - 修复版（添加缺失的方法）\n// 放在 src/app/core/services/investment.service.ts\n\nimport { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class InvestmentService {\n\n  private readonly API_URL = 'http://localhost:8080/api/v1';\n\n  constructor(private http: HttpClient) {}\n\n  // 获取投资组合\n  getPortfolio(): Observable<any> {\n    return this.http.get(`${this.API_URL}/investments/portfolio`);\n  }\n\n  // 添加投资\n  addInvestment(symbol: string, type: string): Observable<any> {\n    return this.http.post(`${this.API_URL}/investments`, {\n      stockSymbol: symbol,\n      investmentType: type\n    });\n  }\n\n  // 记录买入\n  recordBuy(investmentId: number, shares: number, pricePerShare: number): Observable<any> {\n    return this.http.post(`${this.API_URL}/investments/${investmentId}/buy`, {\n      shares,\n      pricePerShare\n    });\n  }\n\n  // 记录卖出\n  recordSell(investmentId: number, shares: number, pricePerShare: number): Observable<any> {\n    return this.http.post(`${this.API_URL}/investments/${investmentId}/sell`, {\n      shares,\n      pricePerShare\n    });\n  }\n\n  // 获取投资详情\n  getInvestment(id: number): Observable<any> {\n    return this.http.get(`${this.API_URL}/investments/${id}`);\n  }\n\n  // 删除投资\n  deleteInvestment(id: number): Observable<any> {\n    return this.http.delete(`${this.API_URL}/investments/${id}`);\n  }\n\n  // 刷新价格\n  refreshPrices(): Observable<any> {\n    return this.http.get(`${this.API_URL}/investments/refresh`);\n  }\n}\n"],"mappings":";;AAUA,OAAM,MAAOA,iBAAiB;EAI5BC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAFP,KAAAC,OAAO,GAAG,8BAA8B;EAElB;EAEvC;EACAC,YAAYA,CAAA;IACV,OAAO,IAAI,CAACF,IAAI,CAACG,GAAG,CAAC,GAAG,IAAI,CAACF,OAAO,wBAAwB,CAAC;EAC/D;EAEA;EACAG,aAAaA,CAACC,MAAc,EAAEC,IAAY;IACxC,OAAO,IAAI,CAACN,IAAI,CAACO,IAAI,CAAC,GAAG,IAAI,CAACN,OAAO,cAAc,EAAE;MACnDO,WAAW,EAAEH,MAAM;MACnBI,cAAc,EAAEH;KACjB,CAAC;EACJ;EAEA;EACAI,SAASA,CAACC,YAAoB,EAAEC,MAAc,EAAEC,aAAqB;IACnE,OAAO,IAAI,CAACb,IAAI,CAACO,IAAI,CAAC,GAAG,IAAI,CAACN,OAAO,gBAAgBU,YAAY,MAAM,EAAE;MACvEC,MAAM;MACNC;KACD,CAAC;EACJ;EAEA;EACAC,UAAUA,CAACH,YAAoB,EAAEC,MAAc,EAAEC,aAAqB;IACpE,OAAO,IAAI,CAACb,IAAI,CAACO,IAAI,CAAC,GAAG,IAAI,CAACN,OAAO,gBAAgBU,YAAY,OAAO,EAAE;MACxEC,MAAM;MACNC;KACD,CAAC;EACJ;EAEA;EACAE,aAAaA,CAACC,EAAU;IACtB,OAAO,IAAI,CAAChB,IAAI,CAACG,GAAG,CAAC,GAAG,IAAI,CAACF,OAAO,gBAAgBe,EAAE,EAAE,CAAC;EAC3D;EAEA;EACAC,gBAAgBA,CAACD,EAAU;IACzB,OAAO,IAAI,CAAChB,IAAI,CAACkB,MAAM,CAAC,GAAG,IAAI,CAACjB,OAAO,gBAAgBe,EAAE,EAAE,CAAC;EAC9D;EAEA;EACAG,aAAaA,CAAA;IACX,OAAO,IAAI,CAACnB,IAAI,CAACG,GAAG,CAAC,GAAG,IAAI,CAACF,OAAO,sBAAsB,CAAC;EAC7D;;;uBAhDWH,iBAAiB,EAAAsB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;IAAA;EAAA;;;aAAjBzB,iBAAiB;MAAA0B,OAAA,EAAjB1B,iBAAiB,CAAA2B,IAAA;MAAAC,UAAA,EAFhB;IAAM;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}