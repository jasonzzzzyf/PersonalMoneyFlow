{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class AnalyticsComponent {\n  constructor(http) {\n    this.http = http;\n    this.summary = null;\n    this.isLoading = true;\n    this.showEmptyState = false;\n    this.errorMessage = '';\n    this.API_URL = 'http://localhost:8080/api/v1';\n  }\n  ngOnInit() {\n    this.loadAnalyticsData();\n  }\n  loadAnalyticsData() {\n    this.isLoading = true;\n    this.errorMessage = '';\n    this.showEmptyState = false;\n    // èŽ·å–è¿‡åŽ»6ä¸ªæœˆçš„æ•°æ®\n    const endDate = new Date();\n    const startDate = new Date();\n    startDate.setMonth(startDate.getMonth() - 6);\n    const params = {\n      startDate: startDate.toISOString().split('T')[0],\n      endDate: endDate.toISOString().split('T')[0]\n    };\n    this.http.get(`${this.API_URL}/analytics/income-expense`, {\n      params\n    }).subscribe({\n      next: data => {\n        console.log('Analytics data received:', data);\n        this.summary = data;\n        // æ£€æŸ¥æ˜¯å¦æœ‰æ•°æ®\n        if (data.totalIncome === 0 && data.totalExpense === 0) {\n          this.showEmptyState = true;\n        }\n        this.isLoading = false;\n      },\n      error: error => {\n        console.error('Error loading analytics:', error);\n        this.isLoading = false;\n        // æ˜¾ç¤ºç©ºçŠ¶æ€è€Œä¸æ˜¯é”™è¯¯\n        this.showEmptyState = true;\n        this.summary = {\n          totalIncome: 0,\n          totalExpense: 0,\n          netAmount: 0,\n          avgMonthlyIncome: 0,\n          avgMonthlyExpense: 0,\n          savingsRate: 0,\n          monthlySavings: 0\n        };\n      }\n    });\n  }\n  formatCurrency(amount) {\n    return new Intl.NumberFormat('en-CA', {\n      style: 'currency',\n      currency: 'CAD',\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2\n    }).format(amount || 0);\n  }\n  formatPercent(value) {\n    const sign = value >= 0 ? '+' : '';\n    return `${sign}${(value || 0).toFixed(1)}%`;\n  }\n  getNetAmountClass() {\n    if (!this.summary) return '';\n    return this.summary.netAmount >= 0 ? 'positive' : 'negative';\n  }\n  static {\n    this.Éµfac = function AnalyticsComponent_Factory(t) {\n      return new (t || AnalyticsComponent)(i0.ÉµÉµdirectiveInject(i1.HttpClient));\n    };\n  }\n  static {\n    this.Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n      type: AnalyticsComponent,\n      selectors: [[\"app-analytics\"]],\n      decls: 84,\n      vars: 7,\n      consts: [[1, \"analytics-container\"], [1, \"summary-card\"], [1, \"summary-row\"], [1, \"summary-item\"], [1, \"label\"], [1, \"value\", \"positive\"], [1, \"value\", \"negative\"], [1, \"value\"], [1, \"charts-section\"], [1, \"chart-card\"], [1, \"chart-placeholder\"], [1, \"placeholder-icon\"], [1, \"stats-grid\"], [1, \"stat-card\"], [1, \"stat-icon\"], [1, \"stat-info\"], [1, \"stat-value\"], [1, \"stat-label\"]],\n      template: function AnalyticsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ÉµÉµelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n          i0.ÉµÉµtext(3, \"This Month\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(4, \"div\", 2)(5, \"div\", 3)(6, \"span\", 4);\n          i0.ÉµÉµtext(7, \"Income\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(8, \"span\", 5);\n          i0.ÉµÉµtext(9);\n          i0.ÉµÉµelementEnd()();\n          i0.ÉµÉµelementStart(10, \"div\", 3)(11, \"span\", 4);\n          i0.ÉµÉµtext(12, \"Expense\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(13, \"span\", 6);\n          i0.ÉµÉµtext(14);\n          i0.ÉµÉµelementEnd()();\n          i0.ÉµÉµelementStart(15, \"div\", 3)(16, \"span\", 4);\n          i0.ÉµÉµtext(17, \"Net\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(18, \"span\", 7);\n          i0.ÉµÉµtext(19);\n          i0.ÉµÉµelementEnd()()()();\n          i0.ÉµÉµelementStart(20, \"div\", 8)(21, \"div\", 9)(22, \"h3\");\n          i0.ÉµÉµtext(23, \"Income vs Expense\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(24, \"div\", 10)(25, \"div\", 11);\n          i0.ÉµÉµtext(26, \"\\uD83D\\uDCCA\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(27, \"p\");\n          i0.ÉµÉµtext(28, \"Bar chart showing income vs expense for the last 6 months\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(29, \"small\");\n          i0.ÉµÉµtext(30, \"Chart.js integration coming soon\");\n          i0.ÉµÉµelementEnd()()();\n          i0.ÉµÉµelementStart(31, \"div\", 9)(32, \"h3\");\n          i0.ÉµÉµtext(33, \"Expense by Category\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(34, \"div\", 10)(35, \"div\", 11);\n          i0.ÉµÉµtext(36, \"\\uD83E\\uDD67\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(37, \"p\");\n          i0.ÉµÉµtext(38, \"Pie chart showing expense breakdown by category\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(39, \"small\");\n          i0.ÉµÉµtext(40, \"Chart.js integration coming soon\");\n          i0.ÉµÉµelementEnd()()();\n          i0.ÉµÉµelementStart(41, \"div\", 9)(42, \"h3\");\n          i0.ÉµÉµtext(43, \"Spending Trends\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(44, \"div\", 10)(45, \"div\", 11);\n          i0.ÉµÉµtext(46, \"\\uD83D\\uDCC8\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(47, \"p\");\n          i0.ÉµÉµtext(48, \"Line chart showing weekly spending trends\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(49, \"small\");\n          i0.ÉµÉµtext(50, \"Chart.js integration coming soon\");\n          i0.ÉµÉµelementEnd()()()();\n          i0.ÉµÉµelementStart(51, \"div\", 12)(52, \"div\", 13)(53, \"div\", 14);\n          i0.ÉµÉµtext(54, \"\\uD83D\\uDCB0\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(55, \"div\", 15)(56, \"span\", 16);\n          i0.ÉµÉµtext(57, \"$5,000\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(58, \"span\", 17);\n          i0.ÉµÉµtext(59, \"Avg Monthly Income\");\n          i0.ÉµÉµelementEnd()()();\n          i0.ÉµÉµelementStart(60, \"div\", 13)(61, \"div\", 14);\n          i0.ÉµÉµtext(62, \"\\uD83D\\uDCB8\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(63, \"div\", 15)(64, \"span\", 16);\n          i0.ÉµÉµtext(65, \"$3,100\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(66, \"span\", 17);\n          i0.ÉµÉµtext(67, \"Avg Monthly Expense\");\n          i0.ÉµÉµelementEnd()()();\n          i0.ÉµÉµelementStart(68, \"div\", 13)(69, \"div\", 14);\n          i0.ÉµÉµtext(70, \"\\uD83D\\uDCC8\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(71, \"div\", 15)(72, \"span\", 16);\n          i0.ÉµÉµtext(73, \"+15%\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(74, \"span\", 17);\n          i0.ÉµÉµtext(75, \"Savings Rate\");\n          i0.ÉµÉµelementEnd()()();\n          i0.ÉµÉµelementStart(76, \"div\", 13)(77, \"div\", 14);\n          i0.ÉµÉµtext(78, \"\\uD83C\\uDFAF\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(79, \"div\", 15)(80, \"span\", 16);\n          i0.ÉµÉµtext(81, \"$1,900\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(82, \"span\", 17);\n          i0.ÉµÉµtext(83, \"Monthly Savings\");\n          i0.ÉµÉµelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.ÉµÉµadvance(9);\n          i0.ÉµÉµtextInterpolate1(\"$\", ctx.monthlyIncome.toFixed(2), \"\");\n          i0.ÉµÉµadvance(5);\n          i0.ÉµÉµtextInterpolate1(\"$\", ctx.monthlyExpense.toFixed(2), \"\");\n          i0.ÉµÉµadvance(4);\n          i0.ÉµÉµclassProp(\"positive\", ctx.netAmount >= 0)(\"negative\", ctx.netAmount < 0);\n          i0.ÉµÉµadvance();\n          i0.ÉµÉµtextInterpolate1(\" $\", ctx.netAmount.toFixed(2), \" \");\n        }\n      },\n      styles: [\".analytics-container[_ngcontent-%COMP%] {\\n  min-height: 100vh;\\n  background: #f5f5f5;\\n  padding: 16px;\\n  padding-bottom: 80px;\\n}\\n\\n.summary-card[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, #F5D547 0%, #E6C63D 100%);\\n  border-radius: 16px;\\n  padding: 20px;\\n  margin-bottom: 20px;\\n  box-shadow: 0 4px 12px rgba(245, 213, 71, 0.3);\\n}\\n.summary-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  margin: 0 0 16px 0;\\n  font-size: 18px;\\n  font-weight: 600;\\n  color: #333;\\n}\\n.summary-card[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(3, 1fr);\\n  gap: 16px;\\n}\\n.summary-card[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 8px;\\n}\\n.summary-card[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%] {\\n  font-size: 13px;\\n  color: #666;\\n  font-weight: 500;\\n}\\n.summary-card[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%] {\\n  font-size: 20px;\\n  font-weight: 700;\\n}\\n.summary-card[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value.positive[_ngcontent-%COMP%] {\\n  color: #4CAF50;\\n}\\n.summary-card[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value.negative[_ngcontent-%COMP%] {\\n  color: #F44336;\\n}\\n\\n.charts-section[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 16px;\\n  margin-bottom: 20px;\\n}\\n\\n.chart-card[_ngcontent-%COMP%] {\\n  background: white;\\n  border-radius: 12px;\\n  padding: 20px;\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\\n}\\n.chart-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  margin: 0 0 16px 0;\\n  font-size: 16px;\\n  font-weight: 600;\\n  color: #333;\\n}\\n.chart-card[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%] {\\n  padding: 40px 20px;\\n  background: #f9f9f9;\\n  border-radius: 8px;\\n  text-align: center;\\n  color: #999;\\n}\\n.chart-card[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   .placeholder-icon[_ngcontent-%COMP%] {\\n  font-size: 48px;\\n  margin-bottom: 12px;\\n}\\n.chart-card[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  margin: 0 0 8px 0;\\n  font-size: 14px;\\n  color: #666;\\n}\\n.chart-card[_ngcontent-%COMP%]   .chart-placeholder[_ngcontent-%COMP%]   small[_ngcontent-%COMP%] {\\n  font-size: 12px;\\n  color: #999;\\n}\\n\\n.stats-grid[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(2, 1fr);\\n  gap: 12px;\\n}\\n\\n.stat-card[_ngcontent-%COMP%] {\\n  background: white;\\n  border-radius: 12px;\\n  padding: 16px;\\n  display: flex;\\n  align-items: center;\\n  gap: 12px;\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\\n}\\n.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%] {\\n  width: 48px;\\n  height: 48px;\\n  border-radius: 12px;\\n  background: #FFF8DC;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 24px;\\n  flex-shrink: 0;\\n}\\n.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 4px;\\n}\\n.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%] {\\n  font-size: 18px;\\n  font-weight: 700;\\n  color: #333;\\n}\\n.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%] {\\n  font-size: 12px;\\n  color: #999;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvYW5hbHl0aWNzL2FuYWx5dGljcy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNFLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxhQUFBO0VBQ0Esb0JBQUE7QUFERjs7QUFJQTtFQUNFLDZEQUFBO0VBQ0EsbUJBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSw4Q0FBQTtBQURGO0FBR0U7RUFDRSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLFdBQUE7QUFESjtBQUlFO0VBQ0UsYUFBQTtFQUNBLHFDQUFBO0VBQ0EsU0FBQTtBQUZKO0FBS0U7RUFDRSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxRQUFBO0FBSEo7QUFLSTtFQUNFLGVBQUE7RUFDQSxXQUFBO0VBQ0EsZ0JBQUE7QUFITjtBQU1JO0VBQ0UsZUFBQTtFQUNBLGdCQUFBO0FBSk47QUFNTTtFQUNFLGNBQUE7QUFKUjtBQU9NO0VBQ0UsY0FBQTtBQUxSOztBQVdBO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsU0FBQTtFQUNBLG1CQUFBO0FBUkY7O0FBV0E7RUFDRSxpQkFBQTtFQUNBLG1CQUFBO0VBQ0EsYUFBQTtFQUNBLHlDQUFBO0FBUkY7QUFVRTtFQUNFLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsV0FBQTtBQVJKO0FBV0U7RUFDRSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7QUFUSjtBQVdJO0VBQ0UsZUFBQTtFQUNBLG1CQUFBO0FBVE47QUFZSTtFQUNFLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7QUFWTjtBQWFJO0VBQ0UsZUFBQTtFQUNBLFdBQUE7QUFYTjs7QUFnQkE7RUFDRSxhQUFBO0VBQ0EscUNBQUE7RUFDQSxTQUFBO0FBYkY7O0FBZ0JBO0VBQ0UsaUJBQUE7RUFDQSxtQkFBQTtFQUNBLGFBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxTQUFBO0VBQ0EseUNBQUE7QUFiRjtBQWVFO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxlQUFBO0VBQ0EsY0FBQTtBQWJKO0FBZ0JFO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsUUFBQTtBQWRKO0FBZ0JJO0VBQ0UsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsV0FBQTtBQWROO0FBaUJJO0VBQ0UsZUFBQTtFQUNBLFdBQUE7QUFmTiIsInNvdXJjZXNDb250ZW50IjpbIi8vIGFuYWx5dGljcy5jb21wb25lbnQuc2NzcyAtIENoYXJ0cyDDqcKhwrXDqcKdwqLDpsKgwrfDpcK8wo9cblxuLmFuYWx5dGljcy1jb250YWluZXIge1xuICBtaW4taGVpZ2h0OiAxMDB2aDtcbiAgYmFja2dyb3VuZDogI2Y1ZjVmNTtcbiAgcGFkZGluZzogMTZweDtcbiAgcGFkZGluZy1ib3R0b206IDgwcHg7IC8vIMOkwrjCusOlwrrClcOpwoPCqMOlwq/CvMOowojCqsOmwqDCj8OnwpXCmcOnwqnCusOpwpfCtFxufVxuXG4uc3VtbWFyeS1jYXJkIHtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI0Y1RDU0NyAwJSwgI0U2QzYzRCAxMDAlKTtcbiAgYm9yZGVyLXJhZGl1czogMTZweDtcbiAgcGFkZGluZzogMjBweDtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDI0NSwgMjEzLCA3MSwgMC4zKTtcblxuICBoMiB7XG4gICAgbWFyZ2luOiAwIDAgMTZweCAwO1xuICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICBmb250LXdlaWdodDogNjAwO1xuICAgIGNvbG9yOiAjMzMzO1xuICB9XG5cbiAgLnN1bW1hcnktcm93IHtcbiAgICBkaXNwbGF5OiBncmlkO1xuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDMsIDFmcik7XG4gICAgZ2FwOiAxNnB4O1xuICB9XG5cbiAgLnN1bW1hcnktaXRlbSB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGdhcDogOHB4O1xuXG4gICAgLmxhYmVsIHtcbiAgICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICAgIGNvbG9yOiAjNjY2O1xuICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICB9XG5cbiAgICAudmFsdWUge1xuICAgICAgZm9udC1zaXplOiAyMHB4O1xuICAgICAgZm9udC13ZWlnaHQ6IDcwMDtcblxuICAgICAgJi5wb3NpdGl2ZSB7XG4gICAgICAgIGNvbG9yOiAjNENBRjUwO1xuICAgICAgfVxuXG4gICAgICAmLm5lZ2F0aXZlIHtcbiAgICAgICAgY29sb3I6ICNGNDQzMzY7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi5jaGFydHMtc2VjdGlvbiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGdhcDogMTZweDtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbn1cblxuLmNoYXJ0LWNhcmQge1xuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgcGFkZGluZzogMjBweDtcbiAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMCwwLDAsMC4wOCk7XG5cbiAgaDMge1xuICAgIG1hcmdpbjogMCAwIDE2cHggMDtcbiAgICBmb250LXNpemU6IDE2cHg7XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICBjb2xvcjogIzMzMztcbiAgfVxuXG4gIC5jaGFydC1wbGFjZWhvbGRlciB7XG4gICAgcGFkZGluZzogNDBweCAyMHB4O1xuICAgIGJhY2tncm91bmQ6ICNmOWY5Zjk7XG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBjb2xvcjogIzk5OTtcblxuICAgIC5wbGFjZWhvbGRlci1pY29uIHtcbiAgICAgIGZvbnQtc2l6ZTogNDhweDtcbiAgICAgIG1hcmdpbi1ib3R0b206IDEycHg7XG4gICAgfVxuXG4gICAgcCB7XG4gICAgICBtYXJnaW46IDAgMCA4cHggMDtcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgIGNvbG9yOiAjNjY2O1xuICAgIH1cblxuICAgIHNtYWxsIHtcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgIGNvbG9yOiAjOTk5O1xuICAgIH1cbiAgfVxufVxuXG4uc3RhdHMtZ3JpZCB7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDIsIDFmcik7XG4gIGdhcDogMTJweDtcbn1cblxuLnN0YXQtY2FyZCB7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICBwYWRkaW5nOiAxNnB4O1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBnYXA6IDEycHg7XG4gIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsMCwwLDAuMDgpO1xuXG4gIC5zdGF0LWljb24ge1xuICAgIHdpZHRoOiA0OHB4O1xuICAgIGhlaWdodDogNDhweDtcbiAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICAgIGJhY2tncm91bmQ6ICNGRkY4REM7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGZvbnQtc2l6ZTogMjRweDtcbiAgICBmbGV4LXNocmluazogMDtcbiAgfVxuXG4gIC5zdGF0LWluZm8ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBnYXA6IDRweDtcblxuICAgIC5zdGF0LXZhbHVlIHtcbiAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7XG4gICAgICBjb2xvcjogIzMzMztcbiAgICB9XG5cbiAgICAuc3RhdC1sYWJlbCB7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICBjb2xvcjogIzk5OTtcbiAgICB9XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["AnalyticsComponent","constructor","http","summary","isLoading","showEmptyState","errorMessage","API_URL","ngOnInit","loadAnalyticsData","endDate","Date","startDate","setMonth","getMonth","params","toISOString","split","get","subscribe","next","data","console","log","totalIncome","totalExpense","error","netAmount","avgMonthlyIncome","avgMonthlyExpense","savingsRate","monthlySavings","formatCurrency","amount","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","formatPercent","value","sign","toFixed","getNetAmountClass","i0","ÉµÉµdirectiveInject","i1","HttpClient","selectors","decls","vars","consts","template","AnalyticsComponent_Template","rf","ctx","ÉµÉµelementStart","ÉµÉµtext","ÉµÉµelementEnd","ÉµÉµadvance","ÉµÉµtextInterpolate1","monthlyIncome","monthlyExpense","ÉµÉµclassProp"],"sources":["D:\\code\\PersonalMoneyFlow\\frontend\\src\\app\\features\\analytics\\analytics.component.ts","D:\\code\\PersonalMoneyFlow\\frontend\\src\\app\\features\\analytics\\analytics.component.html"],"sourcesContent":["// src/app/features/analytics/analytics.component.ts\n\nimport { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\ninterface FinancialSummary {\n  totalIncome: number;\n  totalExpense: number;\n  netAmount: number;\n  avgMonthlyIncome: number;\n  avgMonthlyExpense: number;\n  savingsRate: number;\n  monthlySavings: number;\n}\n\n@Component({\n  selector: 'app-analytics',\n  templateUrl: './analytics.component.html',\n  styleUrls: ['./analytics.component.scss']\n})\nexport class AnalyticsComponent implements OnInit {\n  summary: FinancialSummary | null = null;\n  isLoading: boolean = true;\n  showEmptyState: boolean = false;\n  errorMessage: string = '';\n\n  private readonly API_URL = 'http://localhost:8080/api/v1';\n\n  constructor(private http: HttpClient) {}\n\n  ngOnInit(): void {\n    this.loadAnalyticsData();\n  }\n\n  loadAnalyticsData(): void {\n    this.isLoading = true;\n    this.errorMessage = '';\n    this.showEmptyState = false;\n\n    // èŽ·å–è¿‡åŽ»6ä¸ªæœˆçš„æ•°æ®\n    const endDate = new Date();\n    const startDate = new Date();\n    startDate.setMonth(startDate.getMonth() - 6);\n\n    const params = {\n      startDate: startDate.toISOString().split('T')[0],\n      endDate: endDate.toISOString().split('T')[0]\n    };\n\n    this.http.get<FinancialSummary>(`${this.API_URL}/analytics/income-expense`, { params })\n      .subscribe({\n        next: (data) => {\n          console.log('Analytics data received:', data);\n          this.summary = data;\n          \n          // æ£€æŸ¥æ˜¯å¦æœ‰æ•°æ®\n          if (data.totalIncome === 0 && data.totalExpense === 0) {\n            this.showEmptyState = true;\n          }\n          \n          this.isLoading = false;\n        },\n        error: (error) => {\n          console.error('Error loading analytics:', error);\n          this.isLoading = false;\n          \n          // æ˜¾ç¤ºç©ºçŠ¶æ€è€Œä¸æ˜¯é”™è¯¯\n          this.showEmptyState = true;\n          this.summary = {\n            totalIncome: 0,\n            totalExpense: 0,\n            netAmount: 0,\n            avgMonthlyIncome: 0,\n            avgMonthlyExpense: 0,\n            savingsRate: 0,\n            monthlySavings: 0\n          };\n        }\n      });\n  }\n\n  formatCurrency(amount: number): string {\n    return new Intl.NumberFormat('en-CA', {\n      style: 'currency',\n      currency: 'CAD',\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2\n    }).format(amount || 0);\n  }\n\n  formatPercent(value: number): string {\n    const sign = value >= 0 ? '+' : '';\n    return `${sign}${(value || 0).toFixed(1)}%`;\n  }\n\n  getNetAmountClass(): string {\n    if (!this.summary) return '';\n    return this.summary.netAmount >= 0 ? 'positive' : 'negative';\n  }\n}","<!-- analytics.component.html - Charts å›¾è¡¨åˆ†æž -->\n<div class=\"analytics-container\">\n  \n  <!-- Monthly Summary Card -->\n  <div class=\"summary-card\">\n    <h2>This Month</h2>\n    <div class=\"summary-row\">\n      <div class=\"summary-item\">\n        <span class=\"label\">Income</span>\n        <span class=\"value positive\">${{ monthlyIncome.toFixed(2) }}</span>\n      </div>\n      <div class=\"summary-item\">\n        <span class=\"label\">Expense</span>\n        <span class=\"value negative\">${{ monthlyExpense.toFixed(2) }}</span>\n      </div>\n      <div class=\"summary-item\">\n        <span class=\"label\">Net</span>\n        <span class=\"value\" [class.positive]=\"netAmount >= 0\" [class.negative]=\"netAmount < 0\">\n          ${{ netAmount.toFixed(2) }}\n        </span>\n      </div>\n    </div>\n  </div>\n\n  <!-- Charts Section -->\n  <div class=\"charts-section\">\n    \n    <!-- Income vs Expense Chart -->\n    <div class=\"chart-card\">\n      <h3>Income vs Expense</h3>\n      <div class=\"chart-placeholder\">\n        <div class=\"placeholder-icon\">ðŸ“Š</div>\n        <p>Bar chart showing income vs expense for the last 6 months</p>\n        <small>Chart.js integration coming soon</small>\n      </div>\n    </div>\n\n    <!-- Category Breakdown -->\n    <div class=\"chart-card\">\n      <h3>Expense by Category</h3>\n      <div class=\"chart-placeholder\">\n        <div class=\"placeholder-icon\">ðŸ¥§</div>\n        <p>Pie chart showing expense breakdown by category</p>\n        <small>Chart.js integration coming soon</small>\n      </div>\n    </div>\n\n    <!-- Spending Trends -->\n    <div class=\"chart-card\">\n      <h3>Spending Trends</h3>\n      <div class=\"chart-placeholder\">\n        <div class=\"placeholder-icon\">ðŸ“ˆ</div>\n        <p>Line chart showing weekly spending trends</p>\n        <small>Chart.js integration coming soon</small>\n      </div>\n    </div>\n\n  </div>\n\n  <!-- Quick Stats -->\n  <div class=\"stats-grid\">\n    <div class=\"stat-card\">\n      <div class=\"stat-icon\">ðŸ’°</div>\n      <div class=\"stat-info\">\n        <span class=\"stat-value\">$5,000</span>\n        <span class=\"stat-label\">Avg Monthly Income</span>\n      </div>\n    </div>\n\n    <div class=\"stat-card\">\n      <div class=\"stat-icon\">ðŸ’¸</div>\n      <div class=\"stat-info\">\n        <span class=\"stat-value\">$3,100</span>\n        <span class=\"stat-label\">Avg Monthly Expense</span>\n      </div>\n    </div>\n\n    <div class=\"stat-card\">\n      <div class=\"stat-icon\">ðŸ“ˆ</div>\n      <div class=\"stat-info\">\n        <span class=\"stat-value\">+15%</span>\n        <span class=\"stat-label\">Savings Rate</span>\n      </div>\n    </div>\n\n    <div class=\"stat-card\">\n      <div class=\"stat-icon\">ðŸŽ¯</div>\n      <div class=\"stat-info\">\n        <span class=\"stat-value\">$1,900</span>\n        <span class=\"stat-label\">Monthly Savings</span>\n      </div>\n    </div>\n  </div>\n\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}