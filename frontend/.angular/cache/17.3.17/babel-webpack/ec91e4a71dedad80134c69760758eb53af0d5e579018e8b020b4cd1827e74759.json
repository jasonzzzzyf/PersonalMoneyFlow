{"ast":null,"code":"import { HttpParams } from '@angular/common/http';\nimport { environment } from '../../../environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class ApiService {\n  constructor(http) {\n    this.http = http;\n    this.baseUrl = environment.apiUrl;\n  }\n  /**\n   * GET 请求\n   */\n  get(endpoint, params) {\n    const options = params ? {\n      params: this.createHttpParams(params)\n    } : {};\n    return this.http.get(`${this.baseUrl}${endpoint}`, options);\n  }\n  /**\n   * POST 请求\n   */\n  post(endpoint, data) {\n    return this.http.post(`${this.baseUrl}${endpoint}`, data);\n  }\n  /**\n   * PUT 请求\n   */\n  put(endpoint, data) {\n    return this.http.put(`${this.baseUrl}${endpoint}`, data);\n  }\n  /**\n   * DELETE 请求\n   */\n  delete(endpoint) {\n    return this.http.delete(`${this.baseUrl}${endpoint}`);\n  }\n  /**\n   * 创建 HttpParams\n   */\n  createHttpParams(params) {\n    let httpParams = new HttpParams();\n    Object.keys(params).forEach(key => {\n      if (params[key] !== null && params[key] !== undefined) {\n        httpParams = httpParams.set(key, params[key].toString());\n      }\n    });\n    return httpParams;\n  }\n  /**\n   * 获取完整的 URL（用于文件上传等特殊场景）\n   */\n  getFullUrl(endpoint) {\n    return `${this.baseUrl}${endpoint}`;\n  }\n  static {\n    this.ɵfac = function ApiService_Factory(t) {\n      return new (t || ApiService)(i0.ɵɵinject(i1.HttpClient));\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: ApiService,\n      factory: ApiService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}","map":{"version":3,"names":["HttpParams","environment","ApiService","constructor","http","baseUrl","apiUrl","get","endpoint","params","options","createHttpParams","post","data","put","delete","httpParams","Object","keys","forEach","key","undefined","set","toString","getFullUrl","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["D:\\code\\PersonalMoneyFlow\\frontend\\src\\app\\core\\api\\api.service.ts"],"sourcesContent":["// api.service.ts - 核心 API 服务（修复路径）\nimport { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { environment } from '../../../environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ApiService {\n  private baseUrl = environment.apiUrl;\n\n  constructor(private http: HttpClient) {}\n\n  /**\n   * GET 请求\n   */\n  get<T>(endpoint: string, params?: any): Observable<T> {\n    const options = params ? { params: this.createHttpParams(params) } : {};\n    return this.http.get<T>(`${this.baseUrl}${endpoint}`, options);\n  }\n\n  /**\n   * POST 请求\n   */\n  post<T>(endpoint: string, data: any): Observable<T> {\n    return this.http.post<T>(`${this.baseUrl}${endpoint}`, data);\n  }\n\n  /**\n   * PUT 请求\n   */\n  put<T>(endpoint: string, data: any): Observable<T> {\n    return this.http.put<T>(`${this.baseUrl}${endpoint}`, data);\n  }\n\n  /**\n   * DELETE 请求\n   */\n  delete<T>(endpoint: string): Observable<T> {\n    return this.http.delete<T>(`${this.baseUrl}${endpoint}`);\n  }\n\n  /**\n   * 创建 HttpParams\n   */\n  private createHttpParams(params: any): HttpParams {\n    let httpParams = new HttpParams();\n    Object.keys(params).forEach(key => {\n      if (params[key] !== null && params[key] !== undefined) {\n        httpParams = httpParams.set(key, params[key].toString());\n      }\n    });\n    return httpParams;\n  }\n\n  /**\n   * 获取完整的 URL（用于文件上传等特殊场景）\n   */\n  getFullUrl(endpoint: string): string {\n    return `${this.baseUrl}${endpoint}`;\n  }\n}\n"],"mappings":"AAEA,SAAkCA,UAAU,QAAQ,sBAAsB;AAE1E,SAASC,WAAW,QAAQ,mCAAmC;;;AAK/D,OAAM,MAAOC,UAAU;EAGrBC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAFhB,KAAAC,OAAO,GAAGJ,WAAW,CAACK,MAAM;EAEG;EAEvC;;;EAGAC,GAAGA,CAAIC,QAAgB,EAAEC,MAAY;IACnC,MAAMC,OAAO,GAAGD,MAAM,GAAG;MAAEA,MAAM,EAAE,IAAI,CAACE,gBAAgB,CAACF,MAAM;IAAC,CAAE,GAAG,EAAE;IACvE,OAAO,IAAI,CAACL,IAAI,CAACG,GAAG,CAAI,GAAG,IAAI,CAACF,OAAO,GAAGG,QAAQ,EAAE,EAAEE,OAAO,CAAC;EAChE;EAEA;;;EAGAE,IAAIA,CAAIJ,QAAgB,EAAEK,IAAS;IACjC,OAAO,IAAI,CAACT,IAAI,CAACQ,IAAI,CAAI,GAAG,IAAI,CAACP,OAAO,GAAGG,QAAQ,EAAE,EAAEK,IAAI,CAAC;EAC9D;EAEA;;;EAGAC,GAAGA,CAAIN,QAAgB,EAAEK,IAAS;IAChC,OAAO,IAAI,CAACT,IAAI,CAACU,GAAG,CAAI,GAAG,IAAI,CAACT,OAAO,GAAGG,QAAQ,EAAE,EAAEK,IAAI,CAAC;EAC7D;EAEA;;;EAGAE,MAAMA,CAAIP,QAAgB;IACxB,OAAO,IAAI,CAACJ,IAAI,CAACW,MAAM,CAAI,GAAG,IAAI,CAACV,OAAO,GAAGG,QAAQ,EAAE,CAAC;EAC1D;EAEA;;;EAGQG,gBAAgBA,CAACF,MAAW;IAClC,IAAIO,UAAU,GAAG,IAAIhB,UAAU,EAAE;IACjCiB,MAAM,CAACC,IAAI,CAACT,MAAM,CAAC,CAACU,OAAO,CAACC,GAAG,IAAG;MAChC,IAAIX,MAAM,CAACW,GAAG,CAAC,KAAK,IAAI,IAAIX,MAAM,CAACW,GAAG,CAAC,KAAKC,SAAS,EAAE;QACrDL,UAAU,GAAGA,UAAU,CAACM,GAAG,CAACF,GAAG,EAAEX,MAAM,CAACW,GAAG,CAAC,CAACG,QAAQ,EAAE,CAAC;;IAE5D,CAAC,CAAC;IACF,OAAOP,UAAU;EACnB;EAEA;;;EAGAQ,UAAUA,CAAChB,QAAgB;IACzB,OAAO,GAAG,IAAI,CAACH,OAAO,GAAGG,QAAQ,EAAE;EACrC;;;uBApDWN,UAAU,EAAAuB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;IAAA;EAAA;;;aAAV1B,UAAU;MAAA2B,OAAA,EAAV3B,UAAU,CAAA4B,IAAA;MAAAC,UAAA,EAFT;IAAM;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}