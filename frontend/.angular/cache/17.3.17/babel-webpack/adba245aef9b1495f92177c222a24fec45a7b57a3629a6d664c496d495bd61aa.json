{"ast":null,"code":"import { HttpParams } from '@angular/common/http';\nimport { map } from 'rxjs/operators';\nimport { Transaction } from '@shared/models/models';\nimport { environment } from '../../../environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class TransactionService {\n  constructor(http) {\n    this.http = http;\n    this.apiUrl = `${environment.apiUrl}/transactions`;\n  }\n  getTransactions(page = 0, size = 20) {\n    const params = new HttpParams().set('page', page.toString()).set('size', size.toString()).set('sortBy', 'transactionDate').set('direction', 'DESC');\n    return this.http.get(this.apiUrl, {\n      params\n    });\n  }\n  getTransaction(id) {\n    return this.http.get(`${this.apiUrl}/${id}`);\n  }\n  createTransaction(request) {\n    return this.http.post(this.apiUrl, request);\n  }\n  updateTransaction(id, request) {\n    return this.http.put(`${this.apiUrl}/${id}`, request);\n  }\n  deleteTransaction(id) {\n    return this.http.delete(`${this.apiUrl}/${id}`);\n  }\n  getCalendarData(yearMonth) {\n    const params = new HttpParams().set('month', yearMonth);\n    return this.http.get(`${this.apiUrl}/calendar`, {\n      params\n    });\n  }\n  getTransactionsByDate(date) {\n    return this.http.get(`${this.apiUrl}/date/${date}`);\n  }\n  getMonthlySummary(yearMonth) {\n    const params = new HttpParams().set('month', yearMonth);\n    return this.http.get(`${this.apiUrl}/summary`, {\n      params\n    });\n  }\n  /**\n   * üÜï Ëé∑ÂèñÊåáÂÆöÊúà‰ªΩÁöÑÊâÄÊúâ‰∫§ÊòìÔºàÁî®‰∫éÊó•ÂéÜËßÜÂõæÔºâ\n   */\n  getTransactionsByMonth(year, month) {\n    console.log('TransactionService: ËØ∑Ê±Ç', year, 'Âπ¥', month, 'ÊúàÁöÑ‰∫§Êòì');\n    // ÊûÑÂª∫Êó•ÊúüËåÉÂõ¥ÔºöYYYY-MM-01 Âà∞ YYYY-MM-31\n    const startDate = `${year}-${month.toString().padStart(2, '0')}-01`;\n    const lastDay = new Date(year, month, 0).getDate();\n    const endDate = `${year}-${month.toString().padStart(2, '0')}-${lastDay}`;\n    const params = new HttpParams().set('startDate', startDate).set('endDate', endDate).set('page', '0').set('size', '1000'); // Ëé∑ÂèñÊâÄÊúâ‰∫§Êòì\n    console.log('TransactionService: API URL:', this.apiUrl);\n    console.log('TransactionService: ÂèÇÊï∞:', {\n      startDate,\n      endDate\n    });\n    return this.http.get(this.apiUrl, {\n      params\n    }).pipe(map(response => {\n      console.log('TransactionService: ÂéüÂßãÂìçÂ∫î:', response);\n      // ÂêéÁ´ØËøîÂõûÂàÜÈ°µÂØπË±° {content: [...], pageable: {...}}\n      // ÈúÄË¶ÅÊèêÂèñ content Êï∞ÁªÑ\n      const transactions = response.content || [];\n      console.log('TransactionService: ÊèêÂèñÂà∞', transactions.length, 'Êù°‰∫§Êòì');\n      return transactions;\n    }));\n  }\n  static {\n    this.…µfac = function TransactionService_Factory(t) {\n      return new (t || TransactionService)(i0.…µ…µinject(i1.HttpClient));\n    };\n  }\n  static {\n    this.…µprov = /*@__PURE__*/i0.…µ…µdefineInjectable({\n      token: TransactionService,\n      factory: TransactionService.…µfac,\n      providedIn: 'root'\n    });\n  }\n}","map":{"version":3,"names":["HttpParams","map","Transaction","environment","TransactionService","constructor","http","apiUrl","getTransactions","page","size","params","set","toString","get","getTransaction","id","createTransaction","request","post","updateTransaction","put","deleteTransaction","delete","getCalendarData","yearMonth","getTransactionsByDate","date","getMonthlySummary","getTransactionsByMonth","year","month","console","log","startDate","padStart","lastDay","Date","getDate","endDate","pipe","response","transactions","content","length","i0","…µ…µinject","i1","HttpClient","factory","…µfac","providedIn"],"sources":["D:\\code\\PersonalMoneyFlow\\frontend\\src\\app\\shared\\services\\transaction.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Transaction, TransactionRequest, CalendarData } from '@shared/models/models';\nimport { environment } from '../../../environments/environment';\n\nexport { Transaction };\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TransactionService {\n  private apiUrl = `${environment.apiUrl}/transactions`;\n\n  constructor(private http: HttpClient) {}\n\n  getTransactions(page: number = 0, size: number = 20): Observable<any> {\n    const params = new HttpParams()\n      .set('page', page.toString())\n      .set('size', size.toString())\n      .set('sortBy', 'transactionDate')\n      .set('direction', 'DESC');\n\n    return this.http.get<any>(this.apiUrl, { params });\n  }\n\n  getTransaction(id: number): Observable<Transaction> {\n    return this.http.get<Transaction>(`${this.apiUrl}/${id}`);\n  }\n\n  createTransaction(request: TransactionRequest): Observable<Transaction> {\n    return this.http.post<Transaction>(this.apiUrl, request);\n  }\n\n  updateTransaction(id: number, request: TransactionRequest): Observable<Transaction> {\n    return this.http.put<Transaction>(`${this.apiUrl}/${id}`, request);\n  }\n\n  deleteTransaction(id: number): Observable<void> {\n    return this.http.delete<void>(`${this.apiUrl}/${id}`);\n  }\n\n  getCalendarData(yearMonth: string): Observable<CalendarData> {\n    const params = new HttpParams().set('month', yearMonth);\n    return this.http.get<CalendarData>(`${this.apiUrl}/calendar`, { params });\n  }\n\n  getTransactionsByDate(date: string): Observable<Transaction[]> {\n    return this.http.get<Transaction[]>(`${this.apiUrl}/date/${date}`);\n  }\n\n  getMonthlySummary(yearMonth: string): Observable<any> {\n    const params = new HttpParams().set('month', yearMonth);\n    return this.http.get<any>(`${this.apiUrl}/summary`, { params });\n  }\n\n  /**\n   * üÜï Ëé∑ÂèñÊåáÂÆöÊúà‰ªΩÁöÑÊâÄÊúâ‰∫§ÊòìÔºàÁî®‰∫éÊó•ÂéÜËßÜÂõæÔºâ\n   */\n  getTransactionsByMonth(year: number, month: number): Observable<Transaction[]> {\n    console.log('TransactionService: ËØ∑Ê±Ç', year, 'Âπ¥', month, 'ÊúàÁöÑ‰∫§Êòì');\n    \n    // ÊûÑÂª∫Êó•ÊúüËåÉÂõ¥ÔºöYYYY-MM-01 Âà∞ YYYY-MM-31\n    const startDate = `${year}-${month.toString().padStart(2, '0')}-01`;\n    const lastDay = new Date(year, month, 0).getDate();\n    const endDate = `${year}-${month.toString().padStart(2, '0')}-${lastDay}`;\n    \n    const params = new HttpParams()\n      .set('startDate', startDate)\n      .set('endDate', endDate)\n      .set('page', '0')\n      .set('size', '1000'); // Ëé∑ÂèñÊâÄÊúâ‰∫§Êòì\n    \n    console.log('TransactionService: API URL:', this.apiUrl);\n    console.log('TransactionService: ÂèÇÊï∞:', { startDate, endDate });\n    \n    return this.http.get<any>(this.apiUrl, { params }).pipe(\n      map(response => {\n        console.log('TransactionService: ÂéüÂßãÂìçÂ∫î:', response);\n        \n        // ÂêéÁ´ØËøîÂõûÂàÜÈ°µÂØπË±° {content: [...], pageable: {...}}\n        // ÈúÄË¶ÅÊèêÂèñ content Êï∞ÁªÑ\n        const transactions = response.content || [];\n        \n        console.log('TransactionService: ÊèêÂèñÂà∞', transactions.length, 'Êù°‰∫§Êòì');\n        \n        return transactions;\n      })\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}