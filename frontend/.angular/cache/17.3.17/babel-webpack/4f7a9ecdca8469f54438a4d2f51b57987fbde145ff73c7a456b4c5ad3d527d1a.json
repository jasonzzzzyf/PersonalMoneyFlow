{"ast":null,"code":"import { NavigationEnd } from '@angular/router';\nimport { filter } from 'rxjs';\nimport { trigger, transition, style, animate } from '@angular/animations';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../shared/services/transaction.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction CalendarViewComponent_div_44_div_3_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const day_r2 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.formatShortCurrency(day_r2.income), \" \");\n  }\n}\nfunction CalendarViewComponent_div_44_div_3_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const day_r2 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.formatShortCurrency(-day_r2.expense), \" \");\n  }\n}\nfunction CalendarViewComponent_div_44_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtemplate(1, CalendarViewComponent_div_44_div_3_div_1_Template, 2, 1, \"div\", 22)(2, CalendarViewComponent_div_44_div_3_div_2_Template, 2, 1, \"div\", 23);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const day_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", day_r2.income > 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", day_r2.expense > 0);\n  }\n}\nfunction CalendarViewComponent_div_44_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵlistener(\"click\", function CalendarViewComponent_div_44_Template_div_click_0_listener() {\n      const day_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onDayClick(day_r2));\n    });\n    i0.ɵɵelementStart(1, \"div\", 19);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, CalendarViewComponent_div_44_div_3_Template, 3, 2, \"div\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const day_r2 = ctx.$implicit;\n    i0.ɵɵclassProp(\"today\", day_r2.isToday)(\"selected\", day_r2.isSelected)(\"other-month\", !day_r2.isCurrentMonth)(\"has-data\", day_r2.income > 0 || day_r2.expense > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(day_r2.dayOfMonth);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", day_r2.isCurrentMonth && (day_r2.income > 0 || day_r2.expense > 0));\n  }\n}\nfunction CalendarViewComponent_div_45_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 38)(1, \"p\");\n    i0.ɵɵtext(2, \"No transactions on this day\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function CalendarViewComponent_div_45_div_26_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.addTransactionForDay(ctx_r2.selectedDay));\n    });\n    i0.ɵɵtext(4, \" + Add Transaction \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CalendarViewComponent_div_45_div_27_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 43)(1, \"div\", 44);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 45)(4, \"div\", 46);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 47);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 48);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 49);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const transaction_r7 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassProp(\"income\", transaction_r7.transactionType === \"INCOME\")(\"expense\", transaction_r7.transactionType === \"EXPENSE\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", transaction_r7.transactionType === \"INCOME\" ? \"\\uD83D\\uDCE4\" : \"\\uD83D\\uDCE5\", \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(transaction_r7.categoryName || \"Uncategorized\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(transaction_r7.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.formatTime(transaction_r7.createdAt));\n    i0.ɵɵadvance();\n    i0.ɵɵclassProp(\"positive\", transaction_r7.transactionType === \"INCOME\")(\"negative\", transaction_r7.transactionType === \"EXPENSE\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" \", transaction_r7.transactionType === \"INCOME\" ? \"+\" : \"-\", \"\", ctx_r2.formatCurrency(transaction_r7.amount), \" \");\n  }\n}\nfunction CalendarViewComponent_div_45_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h4\", 40);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, CalendarViewComponent_div_45_div_27_div_3_Template, 12, 14, \"div\", 41);\n    i0.ɵɵelementStart(4, \"button\", 42);\n    i0.ɵɵlistener(\"click\", function CalendarViewComponent_div_45_div_27_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.addTransactionForDay(ctx_r2.selectedDay));\n    });\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Transactions (\", ctx_r2.selectedDay.transactions.length, \")\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.selectedDay.transactions);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" + Add Transaction for \", ctx_r2.formatDateToString(ctx_r2.selectedDay.date), \" \");\n  }\n}\nfunction CalendarViewComponent_div_45_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"div\", 27);\n    i0.ɵɵlistener(\"click\", function CalendarViewComponent_div_45_Template_div_click_1_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.closeDetails());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"div\", 28);\n    i0.ɵɵelement(3, \"div\", 29);\n    i0.ɵɵelementStart(4, \"div\", 30)(5, \"h3\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function CalendarViewComponent_div_45_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.closeDetails());\n    });\n    i0.ɵɵtext(8, \"\\u00D7\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 32)(10, \"div\", 33)(11, \"span\", 6);\n    i0.ɵɵtext(12, \"Net\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"span\", 34);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 33)(16, \"span\", 6);\n    i0.ɵɵtext(17, \"Income\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"span\", 7);\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"div\", 33)(21, \"span\", 6);\n    i0.ɵɵtext(22, \"Expense\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"span\", 8);\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(25, \"div\", 35);\n    i0.ɵɵtemplate(26, CalendarViewComponent_div_45_div_26_Template, 5, 0, \"div\", 36)(27, CalendarViewComponent_div_45_div_27_Template, 6, 3, \"div\", 37);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"@slideUp\", undefined);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r2.formatDateToString(ctx_r2.selectedDay.date));\n    i0.ɵɵadvance(7);\n    i0.ɵɵclassProp(\"positive\", ctx_r2.selectedDay.netAmount >= 0)(\"negative\", ctx_r2.selectedDay.netAmount < 0);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.formatCurrency(ctx_r2.selectedDay.netAmount), \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.formatCurrency(ctx_r2.selectedDay.income));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.formatCurrency(ctx_r2.selectedDay.expense));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.selectedDay.transactions.length === 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.selectedDay.transactions.length > 0);\n  }\n}\nexport class CalendarViewComponent {\n  constructor(transactionService, router, route) {\n    this.transactionService = transactionService;\n    this.router = router;\n    this.route = route;\n    this.currentDate = new Date();\n    this.currentMonth = new Date().getMonth();\n    this.currentYear = new Date().getFullYear();\n    this.calendarDays = [];\n    this.selectedDay = null;\n    this.isLoading = false;\n    this.errorMessage = '';\n    this.todaySummary = {\n      date: new Date().toISOString().split('T')[0],\n      income: 0,\n      expense: 0,\n      net: 0\n    };\n  }\n  ngOnInit() {\n    this.updateCurrentMonthYear();\n    this.loadMonthData();\n    this.routerSubscription = this.router.events.pipe(filter(event => event instanceof NavigationEnd)).subscribe(() => {\n      this.route.queryParams.subscribe(params => {\n        if (params['refresh'] === 'true') {\n          console.log('Calendar View: 检测到刷新参数，重新加载...');\n          this.loadMonthData();\n        }\n      });\n    });\n    this.route.queryParams.subscribe(params => {\n      if (params['refresh'] === 'true') {\n        console.log('Calendar View: 初始刷新...');\n        this.loadMonthData();\n      }\n    });\n  }\n  ngOnDestroy() {\n    this.routerSubscription?.unsubscribe();\n  }\n  updateCurrentMonthYear() {\n    this.currentMonth = this.currentDate.getMonth();\n    this.currentYear = this.currentDate.getFullYear();\n  }\n  loadMonthData() {\n    this.isLoading = true;\n    this.errorMessage = '';\n    const year = this.currentDate.getFullYear();\n    const month = this.currentDate.getMonth() + 1;\n    console.log(`Calendar View: 加载 ${year}-${month} 的数据...`);\n    this.transactionService.getTransactionsByMonth(year, month).subscribe({\n      next: transactions => {\n        console.log(`Calendar View: 加载到 ${transactions.length} 条交易`);\n        console.log('Calendar View: 交易数据示例:', transactions[0]);\n        this.generateCalendar(transactions);\n        this.calculateTodaySummary(transactions);\n        this.isLoading = false;\n      },\n      error: error => {\n        console.error('Calendar View: 加载失败:', error);\n        this.errorMessage = '无法加载月份数据';\n        this.generateCalendar([]);\n        this.isLoading = false;\n      }\n    });\n  }\n  calculateTodaySummary(transactions) {\n    const today = new Date();\n    const todayStr = this.formatDateToString(today);\n    let income = 0;\n    let expense = 0;\n    transactions.forEach(t => {\n      const transDateStr = this.parseLocalDate(t.transactionDate);\n      if (transDateStr === todayStr) {\n        if (t.transactionType === 'INCOME') {\n          income += t.amount;\n        } else {\n          expense += t.amount;\n        }\n      }\n    });\n    this.todaySummary = {\n      date: todayStr,\n      income: income,\n      expense: expense,\n      net: income - expense\n    };\n    console.log('Calendar View: 今日汇总', this.todaySummary);\n  }\n  generateCalendar(transactions) {\n    console.log('Calendar View: 生成日历...');\n    const year = this.currentDate.getFullYear();\n    const month = this.currentDate.getMonth();\n    const firstDay = new Date(year, month, 1);\n    const lastDay = new Date(year, month + 1, 0);\n    const firstDayOfWeek = firstDay.getDay();\n    const daysInMonth = lastDay.getDate();\n    const totalDays = Math.ceil((firstDayOfWeek + daysInMonth) / 7) * 7;\n    this.calendarDays = [];\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    for (let i = 0; i < totalDays; i++) {\n      const dayNumber = i - firstDayOfWeek + 1;\n      const date = new Date(year, month, dayNumber);\n      const isCurrentMonth = dayNumber >= 1 && dayNumber <= daysInMonth;\n      const dateStr = this.formatDateToString(date);\n      const dayTransactions = transactions.filter(t => {\n        const transDateStr = this.parseLocalDate(t.transactionDate);\n        return transDateStr === dateStr;\n      });\n      let totalIncome = 0;\n      let totalExpense = 0;\n      dayTransactions.forEach(t => {\n        if (t.transactionType === 'INCOME') {\n          totalIncome += t.amount;\n        } else {\n          totalExpense += t.amount;\n        }\n      });\n      const calendarDay = {\n        date: date,\n        dayNumber: date.getDate(),\n        dayOfMonth: date.getDate(),\n        dayOfWeek: date.getDay(),\n        totalIncome: totalIncome,\n        totalExpense: totalExpense,\n        income: totalIncome,\n        expense: totalExpense,\n        netAmount: totalIncome - totalExpense,\n        transactions: dayTransactions,\n        isToday: date.getTime() === today.getTime(),\n        isCurrentMonth: isCurrentMonth,\n        isSelected: false\n      };\n      this.calendarDays.push(calendarDay);\n    }\n    console.log('Calendar View: 日历生成完成，共', this.calendarDays.length, '天');\n    const daysWithData = this.calendarDays.filter(d => d.transactions.length > 0).length;\n    console.log('Calendar View: 有交易的天数:', daysWithData);\n  }\n  parseLocalDate(dateString) {\n    if (!dateString) return '';\n    const parts = dateString.split('T')[0];\n    return parts;\n  }\n  formatDateToString(date) {\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const day = String(date.getDate()).padStart(2, '0');\n    return `${year}-${month}-${day}`;\n  }\n  onDayClick(day) {\n    this.selectDay(day);\n  }\n  selectDay(day) {\n    if (!day.isCurrentMonth) return;\n    this.calendarDays.forEach(d => d.isSelected = false);\n    day.isSelected = true;\n    this.selectedDay = day;\n    console.log('Calendar View: 选中日期', this.formatDateToString(day.date), '有', day.transactions.length, '条交易');\n  }\n  closeDetails() {\n    this.calendarDays.forEach(d => d.isSelected = false);\n    this.selectedDay = null;\n  }\n  previousMonth() {\n    this.currentDate = new Date(this.currentDate.getFullYear(), this.currentDate.getMonth() - 1, 1);\n    this.updateCurrentMonthYear();\n    this.loadMonthData();\n  }\n  nextMonth() {\n    this.currentDate = new Date(this.currentDate.getFullYear(), this.currentDate.getMonth() + 1, 1);\n    this.updateCurrentMonthYear();\n    this.loadMonthData();\n  }\n  goToToday() {\n    this.currentDate = new Date();\n    this.updateCurrentMonthYear();\n    this.loadMonthData();\n  }\n  refresh() {\n    console.log('Calendar View: 手动刷新...');\n    this.loadMonthData();\n  }\n  getMonthName(month) {\n    const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n    return months[month];\n  }\n  getMonthYearString() {\n    return `${this.getMonthName(this.currentMonth)} ${this.currentYear}`;\n  }\n  formatCurrency(amount) {\n    return `$${Math.abs(amount).toFixed(2)}`;\n  }\n  formatShortCurrency(amount) {\n    const abs = Math.abs(amount);\n    if (abs >= 1000) {\n      return `$${(abs / 1000).toFixed(1)}K`;\n    }\n    return `$${abs.toFixed(0)}`;\n  }\n  formatAmount(amount) {\n    return amount.toFixed(2);\n  }\n  addTransactionForDay(day) {\n    const date = day ? this.formatDateToString(day.date) : undefined;\n    this.router.navigate(['/transactions/add'], {\n      queryParams: date ? {\n        date\n      } : {}\n    });\n  }\n  formatTime(dateTimeString) {\n    if (!dateTimeString) return '';\n    try {\n      const date = new Date(dateTimeString);\n      const hours = date.getHours();\n      const minutes = date.getMinutes();\n      const ampm = hours >= 12 ? 'PM' : 'AM';\n      const displayHours = hours % 12 || 12;\n      const displayMinutes = minutes.toString().padStart(2, '0');\n      return `${displayHours}:${displayMinutes} ${ampm}`;\n    } catch (e) {\n      return '';\n    }\n  }\n  static {\n    this.ɵfac = function CalendarViewComponent_Factory(t) {\n      return new (t || CalendarViewComponent)(i0.ɵɵdirectiveInject(i1.TransactionService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CalendarViewComponent,\n      selectors: [[\"app-calendar-view\"]],\n      decls: 46,\n      vars: 12,\n      consts: [[1, \"calendar-container\"], [1, \"today-summary-card\"], [1, \"summary-date\"], [1, \"net-amount\"], [1, \"income-expense-row\"], [1, \"amount-item\"], [1, \"label\"], [1, \"value\", \"positive\"], [1, \"value\", \"negative\"], [1, \"calendar-header\"], [1, \"nav-button\", 3, \"click\"], [1, \"calendar-title\"], [1, \"today-button\", 3, \"click\"], [1, \"weekday-header\"], [1, \"weekday\"], [1, \"calendar-grid\"], [\"class\", \"day-cell\", 3, \"today\", \"selected\", \"other-month\", \"has-data\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"bottom-sheet\", 4, \"ngIf\"], [1, \"day-cell\", 3, \"click\"], [1, \"day-number\"], [\"class\", \"day-amounts\", 4, \"ngIf\"], [1, \"day-amounts\"], [\"class\", \"income-amount\", 4, \"ngIf\"], [\"class\", \"expense-amount\", 4, \"ngIf\"], [1, \"income-amount\"], [1, \"expense-amount\"], [1, \"bottom-sheet\"], [1, \"bottom-sheet-overlay\", 3, \"click\"], [1, \"bottom-sheet-content\"], [1, \"drag-handle\"], [1, \"sheet-header\"], [1, \"close-button\", 3, \"click\"], [1, \"daily-summary\"], [1, \"summary-item\"], [1, \"value\"], [1, \"transactions-list\"], [\"class\", \"empty-state\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"empty-state\"], [1, \"add-button\", 3, \"click\"], [1, \"section-title\"], [\"class\", \"transaction-item\", 3, \"income\", \"expense\", 4, \"ngFor\", \"ngForOf\"], [1, \"add-button-bottom\", 3, \"click\"], [1, \"transaction-item\"], [1, \"transaction-icon\"], [1, \"transaction-info\"], [1, \"transaction-category\"], [1, \"transaction-description\"], [1, \"transaction-time\"], [1, \"transaction-amount\"]],\n      template: function CalendarViewComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n          i0.ɵɵtext(3, \"Today's Summary\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\", 2);\n          i0.ɵɵtext(5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"div\", 3);\n          i0.ɵɵtext(7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"div\", 4)(9, \"div\", 5)(10, \"span\", 6);\n          i0.ɵɵtext(11, \"Income\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"span\", 7);\n          i0.ɵɵtext(13);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(14, \"div\", 5)(15, \"span\", 6);\n          i0.ɵɵtext(16, \"Expense\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"span\", 8);\n          i0.ɵɵtext(18);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(19, \"div\", 9)(20, \"button\", 10);\n          i0.ɵɵlistener(\"click\", function CalendarViewComponent_Template_button_click_20_listener() {\n            return ctx.previousMonth();\n          });\n          i0.ɵɵtext(21, \"\\u2190\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"h2\", 11);\n          i0.ɵɵtext(23);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"button\", 10);\n          i0.ɵɵlistener(\"click\", function CalendarViewComponent_Template_button_click_24_listener() {\n            return ctx.nextMonth();\n          });\n          i0.ɵɵtext(25, \"\\u2192\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(26, \"button\", 12);\n          i0.ɵɵlistener(\"click\", function CalendarViewComponent_Template_button_click_26_listener() {\n            return ctx.goToToday();\n          });\n          i0.ɵɵtext(27, \"Today\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(28, \"div\", 13)(29, \"div\", 14);\n          i0.ɵɵtext(30, \"Mon\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(31, \"div\", 14);\n          i0.ɵɵtext(32, \"Tue\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(33, \"div\", 14);\n          i0.ɵɵtext(34, \"Wed\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(35, \"div\", 14);\n          i0.ɵɵtext(36, \"Thu\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(37, \"div\", 14);\n          i0.ɵɵtext(38, \"Fri\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(39, \"div\", 14);\n          i0.ɵɵtext(40, \"Sat\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(41, \"div\", 14);\n          i0.ɵɵtext(42, \"Sun\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(43, \"div\", 15);\n          i0.ɵɵtemplate(44, CalendarViewComponent_div_44_Template, 4, 10, \"div\", 16);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(45, CalendarViewComponent_div_45_Template, 28, 11, \"div\", 17);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate(ctx.todaySummary.date);\n          i0.ɵɵadvance();\n          i0.ɵɵclassProp(\"positive\", ctx.todaySummary.net >= 0)(\"negative\", ctx.todaySummary.net < 0);\n          i0.ɵɵadvance();\n          i0.ɵɵtextInterpolate1(\" \", ctx.formatCurrency(ctx.todaySummary.net), \" \");\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate(ctx.formatCurrency(ctx.todaySummary.income));\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate(ctx.formatCurrency(ctx.todaySummary.expense));\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate2(\"\", ctx.getMonthName(ctx.currentMonth), \" \", ctx.currentYear, \"\");\n          i0.ɵɵadvance(21);\n          i0.ɵɵproperty(\"ngForOf\", ctx.calendarDays);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.selectedDay);\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf],\n      styles: [\"@charset \\\"UTF-8\\\";\\n.calendar-container[_ngcontent-%COMP%] {\\n  padding: 16px;\\n  background-color: #f5f5f5;\\n  min-height: calc(100vh - 60px);\\n  padding-bottom: 80px;\\n}\\n\\n.today-summary-card[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, #F5D547 0%, #F5D547 100%);\\n  border-radius: 16px;\\n  padding: 20px;\\n  margin-bottom: 20px;\\n  box-shadow: 0 4px 12px rgba(245, 213, 71, 0.3);\\n}\\n.today-summary-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  font-size: 18px;\\n  font-weight: 600;\\n  color: #333;\\n  margin: 0 0 8px;\\n}\\n.today-summary-card[_ngcontent-%COMP%]   .summary-date[_ngcontent-%COMP%] {\\n  font-size: 13px;\\n  color: #666;\\n  margin-bottom: 12px;\\n}\\n.today-summary-card[_ngcontent-%COMP%]   .net-amount[_ngcontent-%COMP%] {\\n  font-size: 36px;\\n  font-weight: 700;\\n  margin-bottom: 16px;\\n  color: #333;\\n}\\n.today-summary-card[_ngcontent-%COMP%]   .net-amount.positive[_ngcontent-%COMP%] {\\n  color: #4CAF50;\\n}\\n.today-summary-card[_ngcontent-%COMP%]   .net-amount.negative[_ngcontent-%COMP%] {\\n  color: #F44336;\\n}\\n.today-summary-card[_ngcontent-%COMP%]   .income-expense-row[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 16px;\\n}\\n.today-summary-card[_ngcontent-%COMP%]   .income-expense-row[_ngcontent-%COMP%]   .amount-item[_ngcontent-%COMP%] {\\n  flex: 1;\\n  background: rgba(255, 255, 255, 0.8);\\n  border-radius: 12px;\\n  padding: 12px;\\n  text-align: center;\\n}\\n.today-summary-card[_ngcontent-%COMP%]   .income-expense-row[_ngcontent-%COMP%]   .amount-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%] {\\n  display: block;\\n  font-size: 13px;\\n  color: #666;\\n  margin-bottom: 4px;\\n}\\n.today-summary-card[_ngcontent-%COMP%]   .income-expense-row[_ngcontent-%COMP%]   .amount-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%] {\\n  display: block;\\n  font-size: 18px;\\n  font-weight: 600;\\n}\\n.today-summary-card[_ngcontent-%COMP%]   .income-expense-row[_ngcontent-%COMP%]   .amount-item[_ngcontent-%COMP%]   .value.positive[_ngcontent-%COMP%] {\\n  color: #4CAF50;\\n}\\n.today-summary-card[_ngcontent-%COMP%]   .income-expense-row[_ngcontent-%COMP%]   .amount-item[_ngcontent-%COMP%]   .value.negative[_ngcontent-%COMP%] {\\n  color: #F44336;\\n}\\n\\n.calendar-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  margin-bottom: 16px;\\n  padding: 12px 16px;\\n  background: white;\\n  border-radius: 12px;\\n}\\n.calendar-header[_ngcontent-%COMP%]   .calendar-title[_ngcontent-%COMP%] {\\n  font-size: 18px;\\n  font-weight: 600;\\n  color: #333;\\n  margin: 0;\\n}\\n.calendar-header[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%], .calendar-header[_ngcontent-%COMP%]   .today-button[_ngcontent-%COMP%] {\\n  background: transparent;\\n  border: none;\\n  color: #333;\\n  font-size: 18px;\\n  cursor: pointer;\\n  padding: 8px;\\n  border-radius: 8px;\\n}\\n.calendar-header[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]:hover, .calendar-header[_ngcontent-%COMP%]   .today-button[_ngcontent-%COMP%]:hover {\\n  background-color: #f5f5f5;\\n}\\n.calendar-header[_ngcontent-%COMP%]   .today-button[_ngcontent-%COMP%] {\\n  background-color: #F5D547;\\n  font-size: 14px;\\n  font-weight: 500;\\n  padding: 8px 16px;\\n}\\n.calendar-header[_ngcontent-%COMP%]   .today-button[_ngcontent-%COMP%]:hover {\\n  background-color: #E6C63D;\\n}\\n\\n.weekday-header[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(7, 1fr);\\n  gap: 4px;\\n  margin-bottom: 8px;\\n}\\n.weekday-header[_ngcontent-%COMP%]   .weekday[_ngcontent-%COMP%] {\\n  text-align: center;\\n  font-size: 13px;\\n  font-weight: 500;\\n  color: #999;\\n  padding: 8px 0;\\n}\\n\\n.calendar-grid[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(7, 1fr);\\n  gap: 4px;\\n}\\n.calendar-grid[_ngcontent-%COMP%]   .day-cell[_ngcontent-%COMP%] {\\n  aspect-ratio: 1;\\n  background: white;\\n  border-radius: 12px;\\n  padding: 8px;\\n  cursor: pointer;\\n  transition: all 0.2s;\\n  display: flex;\\n  flex-direction: column;\\n}\\n.calendar-grid[_ngcontent-%COMP%]   .day-cell[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-2px);\\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\\n}\\n.calendar-grid[_ngcontent-%COMP%]   .day-cell.today[_ngcontent-%COMP%] {\\n  background-color: #E8F5E9;\\n  border: 2px solid #4CAF50;\\n}\\n.calendar-grid[_ngcontent-%COMP%]   .day-cell.other-month[_ngcontent-%COMP%] {\\n  opacity: 0.3;\\n  cursor: default;\\n}\\n.calendar-grid[_ngcontent-%COMP%]   .day-cell.other-month[_ngcontent-%COMP%]:hover {\\n  transform: none;\\n  box-shadow: none;\\n}\\n.calendar-grid[_ngcontent-%COMP%]   .day-cell.has-data[_ngcontent-%COMP%] {\\n  border: 1px solid #F5D547;\\n}\\n.calendar-grid[_ngcontent-%COMP%]   .day-cell[_ngcontent-%COMP%]   .day-number[_ngcontent-%COMP%] {\\n  font-size: 14px;\\n  font-weight: 600;\\n  color: #333;\\n  margin-bottom: 4px;\\n}\\n.calendar-grid[_ngcontent-%COMP%]   .day-cell[_ngcontent-%COMP%]   .day-amounts[_ngcontent-%COMP%] {\\n  font-size: 10px;\\n  font-weight: 500;\\n}\\n.calendar-grid[_ngcontent-%COMP%]   .day-cell[_ngcontent-%COMP%]   .day-amounts[_ngcontent-%COMP%]   .income-amount[_ngcontent-%COMP%] {\\n  color: #4CAF50;\\n}\\n.calendar-grid[_ngcontent-%COMP%]   .day-cell[_ngcontent-%COMP%]   .day-amounts[_ngcontent-%COMP%]   .expense-amount[_ngcontent-%COMP%] {\\n  color: #F44336;\\n}\\n\\n@media (max-width: 768px) {\\n  .calendar-container[_ngcontent-%COMP%] {\\n    padding: 12px;\\n  }\\n  .calendar-grid[_ngcontent-%COMP%]   .day-cell[_ngcontent-%COMP%] {\\n    padding: 4px;\\n  }\\n  .calendar-grid[_ngcontent-%COMP%]   .day-cell[_ngcontent-%COMP%]   .day-number[_ngcontent-%COMP%] {\\n    font-size: 12px;\\n  }\\n  .calendar-grid[_ngcontent-%COMP%]   .day-cell[_ngcontent-%COMP%]   .day-amounts[_ngcontent-%COMP%] {\\n    font-size: 9px;\\n  }\\n}\\n\\n\\n\\n\\n\\n\\n.bottom-sheet[_ngcontent-%COMP%] {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  z-index: 1000;\\n  display: flex;\\n  align-items: flex-end;\\n}\\n\\n.bottom-sheet-overlay[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background: rgba(0, 0, 0, 0.4);\\n  cursor: pointer;\\n}\\n\\n.bottom-sheet-content[_ngcontent-%COMP%] {\\n  position: relative;\\n  background: white;\\n  border-radius: 24px 24px 0 0;\\n  width: 100%;\\n  max-height: 70vh;\\n  overflow-y: auto;\\n  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.15);\\n  z-index: 1001;\\n  padding-bottom: 80px; \\n\\n}\\n\\n.drag-handle[_ngcontent-%COMP%] {\\n  width: 40px;\\n  height: 4px;\\n  background: #ddd;\\n  border-radius: 2px;\\n  margin: 12px auto 8px;\\n}\\n\\n.sheet-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding: 16px 20px;\\n  border-bottom: 1px solid #f0f0f0;\\n}\\n.sheet-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  margin: 0;\\n  font-size: 18px;\\n  font-weight: 600;\\n  color: #333;\\n}\\n.sheet-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%] {\\n  width: 32px;\\n  height: 32px;\\n  border-radius: 50%;\\n  border: none;\\n  background: #f5f5f5;\\n  font-size: 24px;\\n  color: #666;\\n  cursor: pointer;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  transition: all 0.2s;\\n}\\n.sheet-header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover {\\n  background: #e0e0e0;\\n}\\n\\n.daily-summary[_ngcontent-%COMP%] {\\n  display: flex;\\n  padding: 16px 20px;\\n  gap: 12px;\\n  background: #fafafa;\\n}\\n.daily-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%] {\\n  flex: 1;\\n  display: flex;\\n  flex-direction: column;\\n  gap: 4px;\\n}\\n.daily-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%] {\\n  font-size: 12px;\\n  color: #999;\\n  font-weight: 500;\\n}\\n.daily-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%] {\\n  font-size: 16px;\\n  font-weight: 600;\\n}\\n.daily-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value.positive[_ngcontent-%COMP%] {\\n  color: #4CAF50;\\n}\\n.daily-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value.negative[_ngcontent-%COMP%] {\\n  color: #F44336;\\n}\\n\\n.transactions-list[_ngcontent-%COMP%] {\\n  padding: 16px 20px;\\n}\\n\\n.section-title[_ngcontent-%COMP%] {\\n  font-size: 14px;\\n  font-weight: 600;\\n  color: #666;\\n  margin: 0 0 12px 0;\\n  text-transform: uppercase;\\n  letter-spacing: 0.5px;\\n}\\n\\n.transaction-item[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 12px;\\n  padding: 12px;\\n  margin-bottom: 8px;\\n  background: white;\\n  border: 1px solid #f0f0f0;\\n  border-radius: 12px;\\n  transition: all 0.2s;\\n}\\n.transaction-item[_ngcontent-%COMP%]:hover {\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\\n  transform: translateY(-1px);\\n}\\n.transaction-item.income[_ngcontent-%COMP%] {\\n  border-left: 3px solid #4CAF50;\\n}\\n.transaction-item.expense[_ngcontent-%COMP%] {\\n  border-left: 3px solid #F44336;\\n}\\n.transaction-item[_ngcontent-%COMP%]   .transaction-icon[_ngcontent-%COMP%] {\\n  width: 40px;\\n  height: 40px;\\n  border-radius: 50%;\\n  background: #f5f5f5;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 20px;\\n  flex-shrink: 0;\\n}\\n.transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%] {\\n  flex: 1;\\n  min-width: 0;\\n}\\n.transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-category[_ngcontent-%COMP%] {\\n  font-size: 15px;\\n  font-weight: 600;\\n  color: #333;\\n  margin-bottom: 2px;\\n}\\n.transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-description[_ngcontent-%COMP%] {\\n  font-size: 13px;\\n  color: #666;\\n  margin-bottom: 2px;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n}\\n.transaction-item[_ngcontent-%COMP%]   .transaction-info[_ngcontent-%COMP%]   .transaction-time[_ngcontent-%COMP%] {\\n  font-size: 11px;\\n  color: #999;\\n}\\n.transaction-item[_ngcontent-%COMP%]   .transaction-amount[_ngcontent-%COMP%] {\\n  font-size: 16px;\\n  font-weight: 700;\\n  flex-shrink: 0;\\n}\\n.transaction-item[_ngcontent-%COMP%]   .transaction-amount.positive[_ngcontent-%COMP%] {\\n  color: #4CAF50;\\n}\\n.transaction-item[_ngcontent-%COMP%]   .transaction-amount.negative[_ngcontent-%COMP%] {\\n  color: #F44336;\\n}\\n\\n.empty-state[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: 40px 20px;\\n}\\n.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  color: #999;\\n  margin-bottom: 16px;\\n}\\n.empty-state[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, #F5D547 0%, #E6C63D 100%);\\n  color: white;\\n  border: none;\\n  padding: 12px 24px;\\n  border-radius: 24px;\\n  font-size: 15px;\\n  font-weight: 600;\\n  cursor: pointer;\\n  box-shadow: 0 4px 12px rgba(245, 213, 71, 0.3);\\n  transition: all 0.2s;\\n}\\n.empty-state[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-2px);\\n  box-shadow: 0 6px 16px rgba(245, 213, 71, 0.4);\\n}\\n.empty-state[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]:active {\\n  transform: translateY(0);\\n}\\n\\n.add-button-bottom[_ngcontent-%COMP%] {\\n  width: 100%;\\n  background: #f5f5f5;\\n  color: #333;\\n  border: 2px dashed #ddd;\\n  padding: 12px;\\n  border-radius: 12px;\\n  font-size: 14px;\\n  font-weight: 600;\\n  cursor: pointer;\\n  margin-top: 16px;\\n  transition: all 0.2s;\\n}\\n.add-button-bottom[_ngcontent-%COMP%]:hover {\\n  background: #F5D547;\\n  border-color: #F5D547;\\n  color: white;\\n}\\n\\n\\n\\n.day-cell.selected[_ngcontent-%COMP%] {\\n  background: #FFF8DC;\\n  border: 2px solid #F5D547;\\n  box-shadow: 0 0 0 3px rgba(245, 213, 71, 0.2);\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvdHJhbnNhY3Rpb25zL2NhbGVuZGFyLXZpZXcvY2FsZW5kYXItdmlldy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxnQkFBZ0I7QUFDaEI7RUFDRSxhQUFBO0VBQ0EseUJBQUE7RUFDQSw4QkFBQTtFQUNBLG9CQUFBO0FBQ0Y7O0FBR0E7RUFDRSw2REFBQTtFQUNBLG1CQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsOENBQUE7QUFBRjtBQUVFO0VBQ0UsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7QUFBSjtBQUdFO0VBQ0UsZUFBQTtFQUNBLFdBQUE7RUFDQSxtQkFBQTtBQURKO0FBSUU7RUFDRSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLFdBQUE7QUFGSjtBQUlJO0VBQ0UsY0FBQTtBQUZOO0FBS0k7RUFDRSxjQUFBO0FBSE47QUFPRTtFQUNFLGFBQUE7RUFDQSxTQUFBO0FBTEo7QUFPSTtFQUNFLE9BQUE7RUFDQSxvQ0FBQTtFQUNBLG1CQUFBO0VBQ0EsYUFBQTtFQUNBLGtCQUFBO0FBTE47QUFPTTtFQUNFLGNBQUE7RUFDQSxlQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0FBTFI7QUFRTTtFQUNFLGNBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7QUFOUjtBQVFRO0VBQ0UsY0FBQTtBQU5WO0FBU1E7RUFDRSxjQUFBO0FBUFY7O0FBZUE7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSw4QkFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtFQUNBLG1CQUFBO0FBWkY7QUFjRTtFQUNFLGVBQUE7RUFDQSxnQkFBQTtFQUNBLFdBQUE7RUFDQSxTQUFBO0FBWko7QUFlRTtFQUNFLHVCQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtBQWJKO0FBZUk7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Q0EscUJBQUE7RUFDQSxZQUFBO0FBM0RKOztBQStEQSxlQUFBO0FBQ0E7RUFDRSxtQkFBQTtFQUNBLHlCQUFBO0VBQ0EsNkNBQUE7QUE1REYiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjYWxlbmRhci12aWV3LmNvbXBvbmVudC5zY3NzXG4uY2FsZW5kYXItY29udGFpbmVyIHtcbiAgcGFkZGluZzogMTZweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNTtcbiAgbWluLWhlaWdodDogY2FsYygxMDB2aCAtIDYwcHgpO1xuICBwYWRkaW5nLWJvdHRvbTogODBweDtcbn1cblxuLy8gw6TCu8KKw6bCl8Klw6bCkcKYw6jCpsKBw6XCjcKhw6fCicKHXG4udG9kYXktc3VtbWFyeS1jYXJkIHtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI0Y1RDU0NyAwJSwgI0Y1RDU0NyAxMDAlKTtcbiAgYm9yZGVyLXJhZGl1czogMTZweDtcbiAgcGFkZGluZzogMjBweDtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDI0NSwgMjEzLCA3MSwgMC4zKTtcblxuICBoMiB7XG4gICAgZm9udC1zaXplOiAxOHB4O1xuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgY29sb3I6ICMzMzM7XG4gICAgbWFyZ2luOiAwIDAgOHB4O1xuICB9XG5cbiAgLnN1bW1hcnktZGF0ZSB7XG4gICAgZm9udC1zaXplOiAxM3B4O1xuICAgIGNvbG9yOiAjNjY2O1xuICAgIG1hcmdpbi1ib3R0b206IDEycHg7XG4gIH1cblxuICAubmV0LWFtb3VudCB7XG4gICAgZm9udC1zaXplOiAzNnB4O1xuICAgIGZvbnQtd2VpZ2h0OiA3MDA7XG4gICAgbWFyZ2luLWJvdHRvbTogMTZweDtcbiAgICBjb2xvcjogIzMzMztcblxuICAgICYucG9zaXRpdmUge1xuICAgICAgY29sb3I6ICM0Q0FGNTA7XG4gICAgfVxuXG4gICAgJi5uZWdhdGl2ZSB7XG4gICAgICBjb2xvcjogI0Y0NDMzNjtcbiAgICB9XG4gIH1cblxuICAuaW5jb21lLWV4cGVuc2Utcm93IHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGdhcDogMTZweDtcblxuICAgIC5hbW91bnQtaXRlbSB7XG4gICAgICBmbGV4OiAxO1xuICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpO1xuICAgICAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgICAgIHBhZGRpbmc6IDEycHg7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG5cbiAgICAgIC5sYWJlbCB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICBmb250LXNpemU6IDEzcHg7XG4gICAgICAgIGNvbG9yOiAjNjY2O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiA0cHg7XG4gICAgICB9XG5cbiAgICAgIC52YWx1ZSB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICBmb250LXNpemU6IDE4cHg7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG5cbiAgICAgICAgJi5wb3NpdGl2ZSB7XG4gICAgICAgICAgY29sb3I6ICM0Q0FGNTA7XG4gICAgICAgIH1cblxuICAgICAgICAmLm5lZ2F0aXZlIHtcbiAgICAgICAgICBjb2xvcjogI0Y0NDMzNjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLyDDpsKXwqXDpcKOwobDpcKvwrzDqMKIwqpcbi5jYWxlbmRhci1oZWFkZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIG1hcmdpbi1ib3R0b206IDE2cHg7XG4gIHBhZGRpbmc6IDEycHggMTZweDtcbiAgYmFja2dyb3VuZDogd2hpdGU7XG4gIGJvcmRlci1yYWRpdXM6IDEycHg7XG5cbiAgLmNhbGVuZGFyLXRpdGxlIHtcbiAgICBmb250LXNpemU6IDE4cHg7XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICBjb2xvcjogIzMzMztcbiAgICBtYXJnaW46IDA7XG4gIH1cblxuICAubmF2LWJ1dHRvbiwgLnRvZGF5LWJ1dHRvbiB7XG4gICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgYm9yZGVyOiBub25lO1xuICAgIGNvbG9yOiAjMzMzO1xuICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgcGFkZGluZzogOHB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcblxuICAgICY6aG92ZXIge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNTtcbiAgICB9XG4gIH1cblxuICAudG9kYXktYnV0dG9uIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRjVENTQ3O1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBmb250LXdlaWdodDogNTAwO1xuICAgIHBhZGRpbmc6IDhweCAxNnB4O1xuXG4gICAgJjpob3ZlciB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRTZDNjNEO1xuICAgIH1cbiAgfVxufVxuXG4vLyDDpsKYwp/DpsKcwp/DpsKgwofDqcKiwphcbi53ZWVrZGF5LWhlYWRlciB7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDcsIDFmcik7XG4gIGdhcDogNHB4O1xuICBtYXJnaW4tYm90dG9tOiA4cHg7XG5cbiAgLndlZWtkYXkge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBmb250LXNpemU6IDEzcHg7XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICBjb2xvcjogIzk5OTtcbiAgICBwYWRkaW5nOiA4cHggMDtcbiAgfVxufVxuXG4vLyDDpsKXwqXDpcKOwobDp8K9wpHDpsKgwrxcbi5jYWxlbmRhci1ncmlkIHtcbiAgZGlzcGxheTogZ3JpZDtcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoNywgMWZyKTtcbiAgZ2FwOiA0cHg7XG5cbiAgLmRheS1jZWxsIHtcbiAgICBhc3BlY3QtcmF0aW86IDE7XG4gICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgICBwYWRkaW5nOiA4cHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRyYW5zaXRpb246IGFsbCAwLjJzO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcblxuICAgICY6aG92ZXIge1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpO1xuICAgICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gICAgfVxuXG4gICAgJi50b2RheSB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRThGNUU5O1xuICAgICAgYm9yZGVyOiAycHggc29saWQgIzRDQUY1MDtcbiAgICB9XG5cbiAgICAmLm90aGVyLW1vbnRoIHtcbiAgICAgIG9wYWNpdHk6IDAuMztcbiAgICAgIGN1cnNvcjogZGVmYXVsdDtcblxuICAgICAgJjpob3ZlciB7XG4gICAgICAgIHRyYW5zZm9ybTogbm9uZTtcbiAgICAgICAgYm94LXNoYWRvdzogbm9uZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAmLmhhcy1kYXRhIHtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNGNUQ1NDc7XG4gICAgfVxuXG4gICAgLmRheS1udW1iZXIge1xuICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgIGNvbG9yOiAjMzMzO1xuICAgICAgbWFyZ2luLWJvdHRvbTogNHB4O1xuICAgIH1cblxuICAgIC5kYXktYW1vdW50cyB7XG4gICAgICBmb250LXNpemU6IDEwcHg7XG4gICAgICBmb250LXdlaWdodDogNTAwO1xuXG4gICAgICAuaW5jb21lLWFtb3VudCB7XG4gICAgICAgIGNvbG9yOiAjNENBRjUwO1xuICAgICAgfVxuXG4gICAgICAuZXhwZW5zZS1hbW91bnQge1xuICAgICAgICBjb2xvcjogI0Y0NDMzNjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8gw6XCk8KNw6XCusKUw6XCvMKPXG5AbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgLmNhbGVuZGFyLWNvbnRhaW5lciB7XG4gICAgcGFkZGluZzogMTJweDtcbiAgfVxuXG4gIC5jYWxlbmRhci1ncmlkIC5kYXktY2VsbCB7XG4gICAgcGFkZGluZzogNHB4O1xuXG4gICAgLmRheS1udW1iZXIge1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgIH1cblxuICAgIC5kYXktYW1vdW50cyB7XG4gICAgICBmb250LXNpemU6IDlweDtcbiAgICB9XG4gIH1cbn1cbi8qIMOlwpzCqCBjYWxlbmRhci12aWV3LmNvbXBvbmVudC5zY3NzIMOmwpbCh8OkwrvCtsOmwpzCq8OlwrDCvsOmwrfCu8OlworCoMOkwrvCpcOkwrjCi8OmwqDCt8OlwrzCjyAqL1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICDDsMKfwobClSBCb3R0b20gU2hlZXQgw6bCoMK3w6XCvMKPXG4gICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi5ib3R0b20tc2hlZXQge1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgcmlnaHQ6IDA7XG4gIGJvdHRvbTogMDtcbiAgei1pbmRleDogMTAwMDtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xufVxuXG4uYm90dG9tLXNoZWV0LW92ZXJsYXkge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgcmlnaHQ6IDA7XG4gIGJvdHRvbTogMDtcbiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjQpO1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5ib3R0b20tc2hlZXQtY29udGVudCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgYmFja2dyb3VuZDogd2hpdGU7XG4gIGJvcmRlci1yYWRpdXM6IDI0cHggMjRweCAwIDA7XG4gIHdpZHRoOiAxMDAlO1xuICBtYXgtaGVpZ2h0OiA3MHZoO1xuICBvdmVyZmxvdy15OiBhdXRvO1xuICBib3gtc2hhZG93OiAwIC00cHggMjBweCByZ2JhKDAsIDAsIDAsIDAuMTUpO1xuICB6LWluZGV4OiAxMDAxO1xuICBwYWRkaW5nLWJvdHRvbTogODBweDsgLyogw6TCuMK6w6XCusKVw6nCg8Kow6XCr8K8w6jCiMKqw6bCoMKPw6fClcKZw6fCqcK6w6nCl8K0ICovXG59XG5cbi5kcmFnLWhhbmRsZSB7XG4gIHdpZHRoOiA0MHB4O1xuICBoZWlnaHQ6IDRweDtcbiAgYmFja2dyb3VuZDogI2RkZDtcbiAgYm9yZGVyLXJhZGl1czogMnB4O1xuICBtYXJnaW46IDEycHggYXV0byA4cHg7XG59XG5cbi5zaGVldC1oZWFkZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHBhZGRpbmc6IDE2cHggMjBweDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNmMGYwZjA7XG5cbiAgaDMge1xuICAgIG1hcmdpbjogMDtcbiAgICBmb250LXNpemU6IDE4cHg7XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICBjb2xvcjogIzMzMztcbiAgfVxuXG4gIC5jbG9zZS1idXR0b24ge1xuICAgIHdpZHRoOiAzMnB4O1xuICAgIGhlaWdodDogMzJweDtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgYm9yZGVyOiBub25lO1xuICAgIGJhY2tncm91bmQ6ICNmNWY1ZjU7XG4gICAgZm9udC1zaXplOiAyNHB4O1xuICAgIGNvbG9yOiAjNjY2O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XG5cbiAgICAmOmhvdmVyIHtcbiAgICAgIGJhY2tncm91bmQ6ICNlMGUwZTA7XG4gICAgfVxuICB9XG59XG5cbi5kYWlseS1zdW1tYXJ5IHtcbiAgZGlzcGxheTogZmxleDtcbiAgcGFkZGluZzogMTZweCAyMHB4O1xuICBnYXA6IDEycHg7XG4gIGJhY2tncm91bmQ6ICNmYWZhZmE7XG5cbiAgLnN1bW1hcnktaXRlbSB7XG4gICAgZmxleDogMTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgZ2FwOiA0cHg7XG5cbiAgICAubGFiZWwge1xuICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgY29sb3I6ICM5OTk7XG4gICAgICBmb250LXdlaWdodDogNTAwO1xuICAgIH1cblxuICAgIC52YWx1ZSB7XG4gICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICBmb250LXdlaWdodDogNjAwO1xuXG4gICAgICAmLnBvc2l0aXZlIHtcbiAgICAgICAgY29sb3I6ICM0Q0FGNTA7XG4gICAgICB9XG5cbiAgICAgICYubmVnYXRpdmUge1xuICAgICAgICBjb2xvcjogI0Y0NDMzNjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLnRyYW5zYWN0aW9ucy1saXN0IHtcbiAgcGFkZGluZzogMTZweCAyMHB4O1xufVxuXG4uc2VjdGlvbi10aXRsZSB7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgY29sb3I6ICM2NjY7XG4gIG1hcmdpbjogMCAwIDEycHggMDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgbGV0dGVyLXNwYWNpbmc6IDAuNXB4O1xufVxuXG4udHJhbnNhY3Rpb24taXRlbSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGdhcDogMTJweDtcbiAgcGFkZGluZzogMTJweDtcbiAgbWFyZ2luLWJvdHRvbTogOHB4O1xuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgYm9yZGVyOiAxcHggc29saWQgI2YwZjBmMDtcbiAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XG5cbiAgJjpob3ZlciB7XG4gICAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMCwgMCwgMCwgMC4wOCk7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xcHgpO1xuICB9XG5cbiAgJi5pbmNvbWUge1xuICAgIGJvcmRlci1sZWZ0OiAzcHggc29saWQgIzRDQUY1MDtcbiAgfVxuXG4gICYuZXhwZW5zZSB7XG4gICAgYm9yZGVyLWxlZnQ6IDNweCBzb2xpZCAjRjQ0MzM2O1xuICB9XG5cbiAgLnRyYW5zYWN0aW9uLWljb24ge1xuICAgIHdpZHRoOiA0MHB4O1xuICAgIGhlaWdodDogNDBweDtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgYmFja2dyb3VuZDogI2Y1ZjVmNTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgZm9udC1zaXplOiAyMHB4O1xuICAgIGZsZXgtc2hyaW5rOiAwO1xuICB9XG5cbiAgLnRyYW5zYWN0aW9uLWluZm8ge1xuICAgIGZsZXg6IDE7XG4gICAgbWluLXdpZHRoOiAwO1xuXG4gICAgLnRyYW5zYWN0aW9uLWNhdGVnb3J5IHtcbiAgICAgIGZvbnQtc2l6ZTogMTVweDtcbiAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICBjb2xvcjogIzMzMztcbiAgICAgIG1hcmdpbi1ib3R0b206IDJweDtcbiAgICB9XG5cbiAgICAudHJhbnNhY3Rpb24tZGVzY3JpcHRpb24ge1xuICAgICAgZm9udC1zaXplOiAxM3B4O1xuICAgICAgY29sb3I6ICM2NjY7XG4gICAgICBtYXJnaW4tYm90dG9tOiAycHg7XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgIH1cblxuICAgIC50cmFuc2FjdGlvbi10aW1lIHtcbiAgICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgICAgIGNvbG9yOiAjOTk5O1xuICAgIH1cbiAgfVxuXG4gIC50cmFuc2FjdGlvbi1hbW91bnQge1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICBmb250LXdlaWdodDogNzAwO1xuICAgIGZsZXgtc2hyaW5rOiAwO1xuXG4gICAgJi5wb3NpdGl2ZSB7XG4gICAgICBjb2xvcjogIzRDQUY1MDtcbiAgICB9XG5cbiAgICAmLm5lZ2F0aXZlIHtcbiAgICAgIGNvbG9yOiAjRjQ0MzM2O1xuICAgIH1cbiAgfVxufVxuXG4uZW1wdHktc3RhdGUge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHBhZGRpbmc6IDQwcHggMjBweDtcblxuICBwIHtcbiAgICBjb2xvcjogIzk5OTtcbiAgICBtYXJnaW4tYm90dG9tOiAxNnB4O1xuICB9XG5cbiAgLmFkZC1idXR0b24ge1xuICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICNGNUQ1NDcgMCUsICNFNkM2M0QgMTAwJSk7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBwYWRkaW5nOiAxMnB4IDI0cHg7XG4gICAgYm9yZGVyLXJhZGl1czogMjRweDtcbiAgICBmb250LXNpemU6IDE1cHg7XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDI0NSwgMjEzLCA3MSwgMC4zKTtcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycztcblxuICAgICY6aG92ZXIge1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpO1xuICAgICAgYm94LXNoYWRvdzogMCA2cHggMTZweCByZ2JhKDI0NSwgMjEzLCA3MSwgMC40KTtcbiAgICB9XG5cbiAgICAmOmFjdGl2ZSB7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7XG4gICAgfVxuICB9XG59XG5cbi5hZGQtYnV0dG9uLWJvdHRvbSB7XG4gIHdpZHRoOiAxMDAlO1xuICBiYWNrZ3JvdW5kOiAjZjVmNWY1O1xuICBjb2xvcjogIzMzMztcbiAgYm9yZGVyOiAycHggZGFzaGVkICNkZGQ7XG4gIHBhZGRpbmc6IDEycHg7XG4gIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBtYXJnaW4tdG9wOiAxNnB4O1xuICB0cmFuc2l0aW9uOiBhbGwgMC4ycztcblxuICAmOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kOiAjRjVENTQ3O1xuICAgIGJvcmRlci1jb2xvcjogI0Y1RDU0NztcbiAgICBjb2xvcjogd2hpdGU7XG4gIH1cbn1cblxuLyogw6TCuMK6w6nCgMKJw6TCuMKtw6fCmsKEw6bCl8Klw6bCnMKfw6bCt8K7w6XCisKgw6nCq8KYw6TCusKuICovXG4uZGF5LWNlbGwuc2VsZWN0ZWQge1xuICBiYWNrZ3JvdW5kOiAjRkZGOERDO1xuICBib3JkZXI6IDJweCBzb2xpZCAjRjVENTQ3O1xuICBib3gtc2hhZG93OiAwIDAgMCAzcHggcmdiYSgyNDUsIDIxMywgNzEsIDAuMik7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"],\n      data: {\n        animation: [trigger('slideUp', [transition(':enter', [style({\n          transform: 'translateY(100%)'\n        }), animate('300ms ease-out', style({\n          transform: 'translateY(0)'\n        }))]), transition(':leave', [animate('300ms ease-in', style({\n          transform: 'translateY(100%)'\n        }))])])]\n      }\n    });\n  }\n}","map":{"version":3,"names":["NavigationEnd","filter","trigger","transition","style","animate","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r2","formatShortCurrency","day_r2","income","expense","ɵɵtemplate","CalendarViewComponent_div_44_div_3_div_1_Template","CalendarViewComponent_div_44_div_3_div_2_Template","ɵɵproperty","ɵɵlistener","CalendarViewComponent_div_44_Template_div_click_0_listener","ɵɵrestoreView","_r1","$implicit","ɵɵnextContext","ɵɵresetView","onDayClick","CalendarViewComponent_div_44_div_3_Template","ɵɵclassProp","isToday","isSelected","isCurrentMonth","ɵɵtextInterpolate","dayOfMonth","CalendarViewComponent_div_45_div_26_Template_button_click_3_listener","_r5","addTransactionForDay","selectedDay","transaction_r7","transactionType","categoryName","description","formatTime","createdAt","ɵɵtextInterpolate2","formatCurrency","amount","CalendarViewComponent_div_45_div_27_div_3_Template","CalendarViewComponent_div_45_div_27_Template_button_click_4_listener","_r6","transactions","length","formatDateToString","date","CalendarViewComponent_div_45_Template_div_click_1_listener","_r4","closeDetails","ɵɵelement","CalendarViewComponent_div_45_Template_button_click_7_listener","CalendarViewComponent_div_45_div_26_Template","CalendarViewComponent_div_45_div_27_Template","undefined","netAmount","CalendarViewComponent","constructor","transactionService","router","route","currentDate","Date","currentMonth","getMonth","currentYear","getFullYear","calendarDays","isLoading","errorMessage","todaySummary","toISOString","split","net","ngOnInit","updateCurrentMonthYear","loadMonthData","routerSubscription","events","pipe","event","subscribe","queryParams","params","console","log","ngOnDestroy","unsubscribe","year","month","getTransactionsByMonth","next","generateCalendar","calculateTodaySummary","error","today","todayStr","forEach","t","transDateStr","parseLocalDate","transactionDate","firstDay","lastDay","firstDayOfWeek","getDay","daysInMonth","getDate","totalDays","Math","ceil","setHours","i","dayNumber","dateStr","dayTransactions","totalIncome","totalExpense","calendarDay","dayOfWeek","getTime","push","daysWithData","d","dateString","parts","String","padStart","day","selectDay","previousMonth","nextMonth","goToToday","refresh","getMonthName","months","getMonthYearString","abs","toFixed","formatAmount","navigate","dateTimeString","hours","getHours","minutes","getMinutes","ampm","displayHours","displayMinutes","toString","e","ɵɵdirectiveInject","i1","TransactionService","i2","Router","ActivatedRoute","selectors","decls","vars","consts","template","CalendarViewComponent_Template","rf","ctx","CalendarViewComponent_Template_button_click_20_listener","CalendarViewComponent_Template_button_click_24_listener","CalendarViewComponent_Template_button_click_26_listener","CalendarViewComponent_div_44_Template","CalendarViewComponent_div_45_Template","transform"],"sources":["D:\\code\\PersonalMoneyFlow\\frontend\\src\\app\\features\\transactions\\calendar-view\\calendar-view.component.ts","D:\\code\\PersonalMoneyFlow\\frontend\\src\\app\\features\\transactions\\calendar-view\\calendar-view.component.html"],"sourcesContent":["// calendar-view.component.ts - 完整修复版本\nimport { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Router, ActivatedRoute, NavigationEnd } from '@angular/router';\nimport { TransactionService, Transaction } from '../../../shared/services/transaction.service';\nimport { filter, Subscription } from 'rxjs';\nimport { trigger, transition, style, animate } from '@angular/animations';\n\ninterface CalendarDay {\n  date: Date;\n  dayNumber: number;\n  dayOfMonth: number;\n  dayOfWeek: number;\n  totalIncome: number;\n  totalExpense: number;\n  income: number;\n  expense: number;\n  netAmount: number;\n  transactions: Transaction[];\n  isToday: boolean;\n  isCurrentMonth: boolean;\n  isSelected: boolean;\n}\n\n@Component({\n  selector: 'app-calendar-view',\n  templateUrl: './calendar-view.component.html',\n  styleUrls: ['./calendar-view.component.scss'],\n  animations: [\n    trigger('slideUp', [\n      transition(':enter', [\n        style({ transform: 'translateY(100%)' }),\n        animate('300ms ease-out', style({ transform: 'translateY(0)' }))\n      ]),\n      transition(':leave', [\n        animate('300ms ease-in', style({ transform: 'translateY(100%)' }))\n      ])\n    ])\n  ]\n})\nexport class CalendarViewComponent implements OnInit, OnDestroy {\n  currentDate: Date = new Date();\n  currentMonth: number = new Date().getMonth();\n  currentYear: number = new Date().getFullYear();\n  calendarDays: CalendarDay[] = [];\n  selectedDay: CalendarDay | null = null;\n  isLoading = false;\n  errorMessage = '';\n  \n  todaySummary = {\n    date: new Date().toISOString().split('T')[0],\n    income: 0,\n    expense: 0,\n    net: 0\n  };\n  \n  private routerSubscription?: Subscription;\n\n  constructor(\n    private transactionService: TransactionService,\n    private router: Router,\n    private route: ActivatedRoute\n  ) {}\n\n  ngOnInit(): void {\n    this.updateCurrentMonthYear();\n    this.loadMonthData();\n    \n    this.routerSubscription = this.router.events\n      .pipe(filter(event => event instanceof NavigationEnd))\n      .subscribe(() => {\n        this.route.queryParams.subscribe(params => {\n          if (params['refresh'] === 'true') {\n            console.log('Calendar View: 检测到刷新参数，重新加载...');\n            this.loadMonthData();\n          }\n        });\n      });\n    \n    this.route.queryParams.subscribe(params => {\n      if (params['refresh'] === 'true') {\n        console.log('Calendar View: 初始刷新...');\n        this.loadMonthData();\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.routerSubscription?.unsubscribe();\n  }\n\n  updateCurrentMonthYear(): void {\n    this.currentMonth = this.currentDate.getMonth();\n    this.currentYear = this.currentDate.getFullYear();\n  }\n\n  loadMonthData(): void {\n    this.isLoading = true;\n    this.errorMessage = '';\n\n    const year = this.currentDate.getFullYear();\n    const month = this.currentDate.getMonth() + 1;\n\n    console.log(`Calendar View: 加载 ${year}-${month} 的数据...`);\n\n    this.transactionService.getTransactionsByMonth(year, month).subscribe({\n      next: (transactions) => {\n        console.log(`Calendar View: 加载到 ${transactions.length} 条交易`);\n        console.log('Calendar View: 交易数据示例:', transactions[0]);\n        this.generateCalendar(transactions);\n        this.calculateTodaySummary(transactions);\n        this.isLoading = false;\n      },\n      error: (error) => {\n        console.error('Calendar View: 加载失败:', error);\n        this.errorMessage = '无法加载月份数据';\n        this.generateCalendar([]);\n        this.isLoading = false;\n      }\n    });\n  }\n\n  calculateTodaySummary(transactions: Transaction[]): void {\n    const today = new Date();\n    const todayStr = this.formatDateToString(today);\n    \n    let income = 0;\n    let expense = 0;\n    \n    transactions.forEach(t => {\n      const transDateStr = this.parseLocalDate(t.transactionDate);\n      \n      if (transDateStr === todayStr) {\n        if (t.transactionType === 'INCOME') {\n          income += t.amount;\n        } else {\n          expense += t.amount;\n        }\n      }\n    });\n    \n    this.todaySummary = {\n      date: todayStr,\n      income: income,\n      expense: expense,\n      net: income - expense\n    };\n    \n    console.log('Calendar View: 今日汇总', this.todaySummary);\n  }\n\n  generateCalendar(transactions: Transaction[]): void {\n    console.log('Calendar View: 生成日历...');\n    \n    const year = this.currentDate.getFullYear();\n    const month = this.currentDate.getMonth();\n    \n    const firstDay = new Date(year, month, 1);\n    const lastDay = new Date(year, month + 1, 0);\n    const firstDayOfWeek = firstDay.getDay();\n    const daysInMonth = lastDay.getDate();\n    const totalDays = Math.ceil((firstDayOfWeek + daysInMonth) / 7) * 7;\n    \n    this.calendarDays = [];\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    \n    for (let i = 0; i < totalDays; i++) {\n      const dayNumber = i - firstDayOfWeek + 1;\n      const date = new Date(year, month, dayNumber);\n      const isCurrentMonth = dayNumber >= 1 && dayNumber <= daysInMonth;\n      \n      const dateStr = this.formatDateToString(date);\n      \n      const dayTransactions = transactions.filter(t => {\n        const transDateStr = this.parseLocalDate(t.transactionDate);\n        return transDateStr === dateStr;\n      });\n      \n      let totalIncome = 0;\n      let totalExpense = 0;\n      \n      dayTransactions.forEach(t => {\n        if (t.transactionType === 'INCOME') {\n          totalIncome += t.amount;\n        } else {\n          totalExpense += t.amount;\n        }\n      });\n      \n      const calendarDay: CalendarDay = {\n        date: date,\n        dayNumber: date.getDate(),\n        dayOfMonth: date.getDate(),\n        dayOfWeek: date.getDay(),\n        totalIncome: totalIncome,\n        totalExpense: totalExpense,\n        income: totalIncome,\n        expense: totalExpense,\n        netAmount: totalIncome - totalExpense,\n        transactions: dayTransactions,\n        isToday: date.getTime() === today.getTime(),\n        isCurrentMonth: isCurrentMonth,\n        isSelected: false\n      };\n      \n      this.calendarDays.push(calendarDay);\n    }\n    \n    console.log('Calendar View: 日历生成完成，共', this.calendarDays.length, '天');\n    \n    const daysWithData = this.calendarDays.filter(d => d.transactions.length > 0).length;\n    console.log('Calendar View: 有交易的天数:', daysWithData);\n  }\n\n  parseLocalDate(dateString: string): string {\n    if (!dateString) return '';\n    const parts = dateString.split('T')[0];\n    return parts;\n  }\n\n  formatDateToString(date: Date): string {\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const day = String(date.getDate()).padStart(2, '0');\n    return `${year}-${month}-${day}`;\n  }\n\n  onDayClick(day: CalendarDay): void {\n    this.selectDay(day);\n  }\n\n  selectDay(day: CalendarDay): void {\n    if (!day.isCurrentMonth) return;\n    \n    this.calendarDays.forEach(d => d.isSelected = false);\n    day.isSelected = true;\n    this.selectedDay = day;\n    \n    console.log('Calendar View: 选中日期', this.formatDateToString(day.date), '有', day.transactions.length, '条交易');\n  }\n\n  closeDetails(): void {\n    this.calendarDays.forEach(d => d.isSelected = false);\n    this.selectedDay = null;\n  }\n\n  previousMonth(): void {\n    this.currentDate = new Date(\n      this.currentDate.getFullYear(),\n      this.currentDate.getMonth() - 1,\n      1\n    );\n    this.updateCurrentMonthYear();\n    this.loadMonthData();\n  }\n\n  nextMonth(): void {\n    this.currentDate = new Date(\n      this.currentDate.getFullYear(),\n      this.currentDate.getMonth() + 1,\n      1\n    );\n    this.updateCurrentMonthYear();\n    this.loadMonthData();\n  }\n\n  goToToday(): void {\n    this.currentDate = new Date();\n    this.updateCurrentMonthYear();\n    this.loadMonthData();\n  }\n\n  refresh(): void {\n    console.log('Calendar View: 手动刷新...');\n    this.loadMonthData();\n  }\n\n  getMonthName(month: number): string {\n    const months = [\n      'January', 'February', 'March', 'April', 'May', 'June',\n      'July', 'August', 'September', 'October', 'November', 'December'\n    ];\n    return months[month];\n  }\n\n  getMonthYearString(): string {\n    return `${this.getMonthName(this.currentMonth)} ${this.currentYear}`;\n  }\n\n  formatCurrency(amount: number): string {\n    return `$${Math.abs(amount).toFixed(2)}`;\n  }\n\n  formatShortCurrency(amount: number): string {\n    const abs = Math.abs(amount);\n    if (abs >= 1000) {\n      return `$${(abs / 1000).toFixed(1)}K`;\n    }\n    return `$${abs.toFixed(0)}`;\n  }\n\n  formatAmount(amount: number): string {\n    return amount.toFixed(2);\n  }\n\n  addTransactionForDay(day?: CalendarDay): void {\n    const date = day ? this.formatDateToString(day.date) : undefined;\n    this.router.navigate(['/transactions/add'], {\n      queryParams: date ? { date } : {}\n    });\n  }\n\n  formatTime(dateTimeString: string | undefined): string {\n    if (!dateTimeString) return '';\n    \n    try {\n      const date = new Date(dateTimeString);\n      const hours = date.getHours();\n      const minutes = date.getMinutes();\n      const ampm = hours >= 12 ? 'PM' : 'AM';\n      const displayHours = hours % 12 || 12;\n      const displayMinutes = minutes.toString().padStart(2, '0');\n      \n      return `${displayHours}:${displayMinutes} ${ampm}`;\n    } catch (e) {\n      return '';\n    }\n  }\n}\n","<!-- calendar-view.component.html - 修复版本：添加Bottom Sheet -->\n<div class=\"calendar-container\">\n  \n  <!-- 今日摘要卡片 -->\n  <div class=\"today-summary-card\">\n    <h2>Today's Summary</h2>\n    <div class=\"summary-date\">{{ todaySummary.date }}</div>\n    <div class=\"net-amount\" [class.positive]=\"todaySummary.net >= 0\" [class.negative]=\"todaySummary.net < 0\">\n      {{ formatCurrency(todaySummary.net) }}\n    </div>\n    <div class=\"income-expense-row\">\n      <div class=\"amount-item\">\n        <span class=\"label\">Income</span>\n        <span class=\"value positive\">{{ formatCurrency(todaySummary.income) }}</span>\n      </div>\n      <div class=\"amount-item\">\n        <span class=\"label\">Expense</span>\n        <span class=\"value negative\">{{ formatCurrency(todaySummary.expense) }}</span>\n      </div>\n    </div>\n  </div>\n\n  <!-- 日历导航 -->\n  <div class=\"calendar-header\">\n    <button class=\"nav-button\" (click)=\"previousMonth()\">←</button>\n    <h2 class=\"calendar-title\">{{ getMonthName(currentMonth) }} {{ currentYear }}</h2>\n    <button class=\"nav-button\" (click)=\"nextMonth()\">→</button>\n    <button class=\"today-button\" (click)=\"goToToday()\">Today</button>\n  </div>\n\n  <!-- 星期标题 -->\n  <div class=\"weekday-header\">\n    <div class=\"weekday\">Mon</div>\n    <div class=\"weekday\">Tue</div>\n    <div class=\"weekday\">Wed</div>\n    <div class=\"weekday\">Thu</div>\n    <div class=\"weekday\">Fri</div>\n    <div class=\"weekday\">Sat</div>\n    <div class=\"weekday\">Sun</div>\n  </div>\n\n  <!-- 日历网格 -->\n  <div class=\"calendar-grid\">\n    <div class=\"day-cell\" \n         *ngFor=\"let day of calendarDays\"\n         [class.today]=\"day.isToday\"\n         [class.selected]=\"day.isSelected\"\n         [class.other-month]=\"!day.isCurrentMonth\"\n         [class.has-data]=\"day.income > 0 || day.expense > 0\"\n         (click)=\"onDayClick(day)\">\n      <div class=\"day-number\">{{ day.dayOfMonth }}</div>\n      <div class=\"day-amounts\" *ngIf=\"day.isCurrentMonth && (day.income > 0 || day.expense > 0)\">\n        <div class=\"income-amount\" *ngIf=\"day.income > 0\">\n          {{ formatShortCurrency(day.income) }}\n        </div>\n        <div class=\"expense-amount\" *ngIf=\"day.expense > 0\">\n          {{ formatShortCurrency(-day.expense) }}\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- 🆕 Bottom Sheet - 显示点击日期的交易详情 -->\n  <div class=\"bottom-sheet\" *ngIf=\"selectedDay\" [@slideUp]>\n    <div class=\"bottom-sheet-overlay\" (click)=\"closeDetails()\"></div>\n    <div class=\"bottom-sheet-content\">\n      <!-- Drag Handle -->\n      <div class=\"drag-handle\"></div>\n      \n      <!-- Header -->\n      <div class=\"sheet-header\">\n        <h3>{{ formatDateToString(selectedDay.date) }}</h3>\n        <button class=\"close-button\" (click)=\"closeDetails()\">×</button>\n      </div>\n\n      <!-- Daily Summary -->\n      <div class=\"daily-summary\">\n        <div class=\"summary-item\">\n          <span class=\"label\">Net</span>\n          <span class=\"value\" [class.positive]=\"selectedDay.netAmount >= 0\" [class.negative]=\"selectedDay.netAmount < 0\">\n            {{ formatCurrency(selectedDay.netAmount) }}\n          </span>\n        </div>\n        <div class=\"summary-item\">\n          <span class=\"label\">Income</span>\n          <span class=\"value positive\">{{ formatCurrency(selectedDay.income) }}</span>\n        </div>\n        <div class=\"summary-item\">\n          <span class=\"label\">Expense</span>\n          <span class=\"value negative\">{{ formatCurrency(selectedDay.expense) }}</span>\n        </div>\n      </div>\n\n      <!-- Transactions List -->\n      <div class=\"transactions-list\">\n        <div class=\"empty-state\" *ngIf=\"selectedDay.transactions.length === 0\">\n          <p>No transactions on this day</p>\n          <button class=\"add-button\" (click)=\"addTransactionForDay(selectedDay)\">\n            + Add Transaction\n          </button>\n        </div>\n\n        <div *ngIf=\"selectedDay.transactions.length > 0\">\n          <h4 class=\"section-title\">Transactions ({{ selectedDay.transactions.length }})</h4>\n          \n          <div class=\"transaction-item\" \n               *ngFor=\"let transaction of selectedDay.transactions\"\n               [class.income]=\"transaction.transactionType === 'INCOME'\"\n               [class.expense]=\"transaction.transactionType === 'EXPENSE'\">\n            <div class=\"transaction-icon\">\n              {{ transaction.transactionType === 'INCOME' ? '📤' : '📥' }}\n            </div>\n            <div class=\"transaction-info\">\n              <div class=\"transaction-category\">{{ transaction.categoryName || 'Uncategorized' }}</div>\n              <div class=\"transaction-description\">{{ transaction.description }}</div>\n              <div class=\"transaction-time\">{{ formatTime(transaction.createdAt) }}</div>\n            </div>\n            <div class=\"transaction-amount\" \n                 [class.positive]=\"transaction.transactionType === 'INCOME'\"\n                 [class.negative]=\"transaction.transactionType === 'EXPENSE'\">\n              {{ transaction.transactionType === 'INCOME' ? '+' : '-' }}{{ formatCurrency(transaction.amount) }}\n            </div>\n          </div>\n\n          <button class=\"add-button-bottom\" (click)=\"addTransactionForDay(selectedDay)\">\n            + Add Transaction for {{ formatDateToString(selectedDay.date) }}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}